(function(){var e={8013:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{a(4114);var o=a(3173),n=a(9128),r=a(3367),i=a(5983),l=a(3232),c=a(1219),d=a(8704),u=e([o,i]);[o,i]=u.then?(await u)():u,t.A={components:{AppHeader:r.A,AppSidebar:n.A,LoginModal:i.A,SuggestSetPasswordModal:l.A},data(){return{currentView:null,userVerified:null,isSidebarVisible:!0,showSuggestPasswordModal:!1,windowWidth:window.innerWidth,cancelTokenSource:o.A.CancelToken.source()}},computed:{sidebarMarginLeft(){return this.isSidebarVisible?"200px":"0"}},mounted(){this.updateSidebarVisibility(),window.addEventListener("resize",this.updateSidebarVisibility),this.initializeUserVerification()},watch:{"$route.name":"loadCurrentView"},beforeUnmount(){window.removeEventListener("resize",this.updateSidebarVisibility)},methods:{async initializeUserVerification(){try{const e=await o.A.get("/api/verify-token");if(200===e.status){this.userVerified=!0;const t=e.data.no_password,a="true"===localStorage.getItem("noPasswordPromptDisabled");t&&!a&&(this.showSuggestPasswordModal=!0),await this.checkCsrfToken(),this.loadCurrentView(this.$route.name)}else this.checkPassword()}catch(e){this.checkPassword()}},async checkPassword(){try{const e=await o.A.post("/api/auth",{});if(200===e.status){this.userVerified=!0;const t=e.data.no_password;localStorage.setItem("noPassword",JSON.stringify(e.data.no_password));const a="true"===localStorage.getItem("noPasswordPromptDisabled");t&&!a&&(this.showSuggestPasswordModal=!0),await this.checkCsrfToken(),this.loadCurrentView(this.$route.name)}}catch(e){401===e.response?.status?this.userVerified=!1:403===e.response?.status?(this.userVerified=!1,c.nk.error("ç™»å½•å¤±è´¥æ¬¡æ•°è¿‡å¤šï¼Œè¯·ç¨åŽå†è¯•")):c.nk.error("è¯·æ±‚å¤±è´¥ï¼š"+e.message)}},async checkCsrfToken(){let e=d.A.get("XSRF-TOKEN");if(e)o.A.defaults.headers.common["X-XSRF-TOKEN"]=e;else{const e=await o.A.get("/api/get-csrf-token");if(200===e.status){const t=e.data.csrf_token;if(t){d.A.set("XSRF-TOKEN",t,{expires:60/1440,sameSite:"Strict",secure:!0});let e=d.A.get("XSRF-TOKEN");o.A.defaults.headers.common["X-XSRF-TOKEN"]=e}}}},updateSidebarVisibility(){this.windowWidth=window.innerWidth,this.isSidebarVisible=this.windowWidth>1024},handleMenuSelect(e){const t=`${e.charAt(0).toUpperCase()+e.slice(1)}View`;a(4235)(`./${t}.vue`).then((t=>{this.currentView=t.default,this.$router.push({name:e})}))},toggleSidebar(){this.windowWidth<=1024&&(this.isSidebarVisible=!this.isSidebarVisible)},closeSidebar(){this.isSidebarVisible=!1},loadCurrentView(e){if(this.userVerified){const t={dashboard:"Dashboard",config:"Config",data:"Data",logs:"Logs",chat:"Chat",setting:"Setting",about:"About"},s=t[e]||"Empty";a(9470)(`./${s}View.vue`).then((e=>{this.currentView=e.default}))}}}},s()}catch(h){s(h)}}))},8853:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{var o=a(3173),n=a(1219),r=a(5931),i=e([o]);o=(i.then?(await i)():i)[0],t.A={data(){const{t:e}=(0,r.s9)();return{password:"",rememberDevice:!1,loading:!1,showTooltip:!1,t:e}},methods:{async checkPassword(){this.loading=!0;try{const e=await o.A.post("/api/auth",{password:this.password,remember:this.rememberDevice});200===e.status&&(n.nk.success(this.t("login.message.success")),localStorage.setItem("noPassword",JSON.stringify(e.data.no_password)),location.reload())}catch(e){401===e.response?.status?n.nk.error(this.t("login.message.failed")):403===e.response?.status?n.nk.error(this.t("login.message.abuse")):n.nk.error(this.t("message.error.fetch")+e.message)}finally{this.loading=!1}}}},s()}catch(l){s(l)}}))},4236:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{a(4114),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698),a(8992),a(3949),a(1454),a(8872);var o=a(1219),n=a(5931),r=a(3173),i=a(9671),l=e([r]);r=(l.then?(await l)():l)[0],t.A={data(){const{t:e}=(0,n.s9)();return{t:e,trendData:[],selectedDays:"1",count:0,averageCount:0,changeRate:0,commandStats:[],chartInstance:null,resizeObserver:null,cancelTokenSource:r.A.CancelToken.source(),loading:!1}},mounted(){this.fetchAnalyticsData(this.selectedDays),this.resizeObserver=new ResizeObserver((()=>{this.resizeChart()})),this.resizeObserver.observe(this.$refs.chartContainer)},beforeUnmount(){this.cancelTokenSource.cancel("Component unmounted"),this.resizeObserver&&this.$refs.chartContainer&&(this.resizeObserver.unobserve(this.$refs.chartContainer),this.resizeObserver.disconnect()),this.chartInstance&&this.chartInstance.dispose()},methods:{async fetchAnalyticsData(e){this.loading=!0;try{const t=await r.A.get("/api/analytics",{cancelToken:this.cancelTokenSource.token,params:{days:e}}),{data:a}=t;this.processData(a,e),this.renderChart(e)}catch(t){r.A.isCancel(t)?console.log("Request canceled"):o.nk.error(this.t("message.error.fetch")+t.message)}finally{this.loading=!1}},processData(e,t){const a=this.groupDataByTimeInterval(e.data);this.fillMissingData(a,t),this.trendData=a.map((e=>({date:this.formatTimestamp(e.date),count:e.count}))).sort(((e,t)=>new Date(e.date)-new Date(t.date))),this.count=a.reduce(((e,t)=>e+t.count),0),this.averageCount=Math.round(this.count/t),this.changeRate=Math.floor(100*e.change_rate);const s={};e.data.forEach((e=>{const t=e.target_id?.split("|")[0]||this.t("unknown");s[t]=(s[t]||0)+1}));const o=Object.entries(s).map((([e,t])=>({prefix:e,count:t}))).sort(((e,t)=>t.count-e.count));this.commandStats=o},fillMissingData(e,t){const a=this.generateAllTimeIntervals(t),s=new Set(e.map((e=>e.date)));a.forEach((t=>{s.has(t)||e.push({date:t,count:0})})),e.sort(((e,t)=>new Date(e.date)-new Date(t.date)))},generateAllTimeIntervals(e){const t=[],a=new Date,s=48*e,o=new Date(a.getTime()-18e5);for(let n=0;n<s;n++){const e=new Date(o.getTime()-30*n*60*1e3);t.push(e.toISOString())}return t},groupDataByTimeInterval(e){const t={},a=new Date,s=new Date(a.getTime()-18e5);return e.forEach((e=>{const a=new Date(e.timestamp),o=s.getTime()-a.getTime(),n=Math.floor(o/18e5),r=new Date(s.getTime()-30*n*60*1e3),i=r.toISOString();t[i]||(t[i]={date:i,count:0}),t[i].count+=1})),Object.values(t)},formatTimestamp(e){const t=new Date(e);return t.toLocaleString([],{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(",","")},renderChart(){this.$nextTick((()=>{this.chartInstance&&this.chartInstance.dispose();const e=this.$refs.chartContainer;if(!e||0===e.offsetWidth)return;const t=i.Ts(this.$refs.chartContainer),a={tooltip:{trigger:"axis"},dataZoom:[{type:"slider",start:0,end:100},{type:"inside",start:0,end:100}],xAxis:{type:"category",data:this.trendData.map((e=>e.date))},yAxis:{type:"value"},series:[{name:this.t("dashboard.analytics.command.chart.command"),data:this.trendData.map((e=>e.count)),type:"line",smooth:!0}]};t.setOption(a),this.chartInstance=t}))},resizeChart(){this.$nextTick((()=>{this.chartInstance&&this.chartInstance.resize()}))},onTimeRangeChange(e){this.fetchAnalyticsData(e)},getColorByIndex(e){const t=["#F56C6C","#E6A23C","#FAE384","#67C23A","#1ABC9C","#409EFF","#9B59B6","#E84393"];let a=0;for(let s=0;s<e.length;s++)a+=e.charCodeAt(s);return t[a%t.length]}}},s()}catch(c){s(c)}}))},1083:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{var o=a(3173),n=a(1219),r=a(5931),i=e([o]);o=(i.then?(await i)():i)[0];const l=["#1989fa","#e6a23c","#f56c6c"];t.A={data(){const{t:e}=(0,r.s9)();return{os:{system:"",version:"",machine:"",boot_time:0},bot:{running_time:0,python_version:"",version:"",web_render_status:!1},cpu:{cpu_brand:"",cpu_percent:0},memory:{total:0,used:0,percent:0},disk:{total:0,used:0,percent:0},cancelTokenSource:o.A.CancelToken.source(),loading:!1,t:e}},mounted(){this.fetchServerInfoData(this.selectedDays)},beforeUnmount(){this.cancelTokenSource.cancel("Component unmounted")},methods:{formatRunningTime(e){const t=Math.floor(e/3600),a=Math.floor(e%3600/60),s=Math.floor(e%60);return this.t("dashboard.server_info.text.format_time",{hours:t,minutes:a,seconds:s})},formatTime(e){const t=new Date(1e3*e);return t.toLocaleString("zh-CN",{hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})},async fetchServerInfoData(){try{this.loading=!0;const e=await o.A.get("/api/server-info",{cancelToken:this.cancelTokenSource.token}),t=e.data;this.os={...this.os,...t.os},this.bot={...this.bot,...t.bot},this.cpu={...this.cpu,...t.cpu},this.memory={...this.memory,...t.memory},this.disk={...this.disk,...t.disk}}catch(e){o.A.isCancel(e)?console.log("Request canceled"):n.nk.error(this.t("message.error.fetch")+e.message)}finally{this.loading=!1}},getProgressColor(e){return e>=90?l[2]:e>=60?l[1]:l[0]}}},s()}catch(l){s(l)}}))},1564:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{var o=a(3173),n=a(2933),r=a(5320),i=a(1219),l=a(5931),c=e([o]);o=(c.then?(await c)():c)[0],t.A={name:"restartBotButton",data(){const{t:e}=(0,l.s9)();return{t:e}},methods:{async handleRestart(){try{await n.s.confirm(this.t("confirm.message"),this.t("confirm.title.warning"),{confirmButtonText:this.t("button.confirm"),cancelButtonText:this.t("button.cancel"),type:"warning"}),await this.restartBot()}catch(e){return}},async restartBot(){try{const e=await o.A.post("/api/restart",{});200===e.status&&(r.Ks.service({fullscreen:!0,text:this.t("setting.restart_bot.loading.text")}),setTimeout((()=>{window.location.href="/"}),1e4))}catch(e){i.nk.error(this.t("message.error.fetch")+e.message)}}}},s()}catch(d){s(d)}}))},2058:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{var o=a(3173),n=a(8814),r=a(4838),i=a(8954),l=a(5242),c=a(1219),d=a(5931),u=e([o]);o=(u.then?(await u)():u)[0],t.A={name:"ConfigView",data(){const{t:e}=(0,d.s9)();return{activeTab:"",configFiles:[],editorContent:"",editorView:null,editorOptions:{lineWrapping:!0,theme:l.bM,lineNumbers:!0,scrollbarStyle:"native"},fileContents:{},cancelTokenSource:o.A.CancelToken.source(),loading:!1,t:e}},mounted(){this.fetchConfigFiles();const e=i.$t.create({doc:this.editorContent,extensions:[r.oQ,l.bM,n.Lz.updateListener.of(this.handleEditorChange)]});this.editorView=new n.Lz({state:e,parent:this.$refs.editor})},beforeUnmount(){this.cancelTokenSource.cancel("Component unmounted")},methods:{async fetchConfigFiles(){this.loading=!0;try{const e=await o.A.get("/api/config",{cancelToken:this.cancelTokenSource.token});this.configFiles=e.data.cfg_files,this.configFiles.length>0&&(this.activeTab=this.configFiles[0],this.fetchConfig(this.activeTab))}catch(e){o.A.isCancel(e)?console.log("Request canceled"):c.nk.error(this.t("message.error.fetch")+e.message)}finally{this.loading=!1}},async fetchConfig(e,t=!1){if(!t&&this.fileContents[e])return this.editorContent=this.fileContents[e],void this.updateEditorContent();try{const t=await o.A.get(`/api/config/${e}`,{cancelToken:this.cancelTokenSource.token});this.fileContents[e]=t.data.content,this.editorContent=t.data.content,this.updateEditorContent()}catch(a){o.A.isCancel(a)?console.log("Request canceled"):c.nk.error(this.t("message.error.fetch")+a.message)}},resetConfig(){this.fetchConfig(this.activeTab,!0)},async applyConfig(){try{await o.A.post(`/api/config/${this.activeTab}`,{content:this.editorContent}),c.nk.success(this.t("config.message.save.success"))}catch(e){c.nk.error(this.t("message.error.fetch")+e.message)}},updateEditorContent(){this.editorView&&this.editorView.dispatch({changes:{from:0,to:this.editorView.state.doc.length,insert:this.editorContent}})},handleTabClick(e){this.fetchConfig(e.paneName)},handleEditorChange(e){const t=e.state.doc.toString();this.editorContent!==t&&(this.editorContent=t,this.fileContents[this.activeTab]=t)}}},s()}catch(h){s(h)}}))},6656:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{var o=a(7292),n=a(1997),r=e([o,n]);[o,n]=r.then?(await r)():r,t.A={components:{AnalyticsCard:o.A,ServerInfoCard:n.A},methods:{refreshData(){if(this.loading=!0,this.$refs.serverInfoCard.fetchServerInfoData().finally((()=>{this.loading=!1})),this.$refs.analyticsCard){const e=this.$refs.analyticsCard.selectedDays;this.$refs.analyticsCard.fetchAnalyticsData(e)}}}},s()}catch(i){s(i)}}))},8712:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{var o=a(20),n=a(8246),r=e([n]);n=(r.then?(await r)():r)[0],t.A={components:{ChangePasswordForm:o.A,RestartBotButton:n.A}},s()}catch(i){s(i)}}))},9:function(e,t,a){"use strict";a.d(t,{X:function(){return n}});var s=a(6768),o=a(4232);function n(e,t,a,n,r,i){const l=(0,s.g2)("el-button");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("h3",null,(0,o.v_)(e.$t("setting.restart_bot.title")),1),(0,s.bF)(l,{type:"danger",onClick:i.handleRestart},{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e.$t("setting.restart_bot.button.restart")),1)])),_:1},8,["onClick"])],64)}},2304:function(e,t,a){"use strict";a.d(t,{X:function(){return o}});var s=a(6768);function o(e,t,a,o,n,r){const i=(0,s.g2)("ServerInfoCard"),l=(0,s.g2)("AnalyticsCard"),c=(0,s.g2)("el-button");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(i,{ref:"serverInfoCard"},null,512),(0,s.bF)(l,{ref:"analyticsCard"},null,512),(0,s.bF)(c,{class:"refresh-button",circle:"",size:"large",type:"primary",onClick:r.refreshData},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("i",{class:"mdi mdi-refresh"},null,-1)]))),_:1},8,["onClick"])],64)}},2252:function(e,t,a){"use strict";a.d(t,{X:function(){return o}});var s=a(6768);function o(e,t,a,o,n,r){const i=(0,s.g2)("ChangePasswordForm"),l=(0,s.g2)("RestartBotButton");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(i),(0,s.bF)(l)],64)}},3173:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{var o=a(4373);const e=async()=>{const e=await fetch("/config.json"),t=await e.json(),a=t.api_url;return o.A.defaults.baseURL=a,o.A.defaults.timeout=5e4,o.A.defaults.withCredentials=!0,o.A.interceptors.request.use((e=>e),(e=>Promise.reject(e))),o.A.interceptors.response.use((e=>e),(e=>Promise.reject(e))),o.A},n=await e();t.A=n,s()}catch(n){s(n)}}),1)},1406:function(e,t,a){"use strict";a.a(e,(async function(e,t){try{var s=a(5130),o=a(5931),n=a(7067),r=a(9342),i=a(3081),l=(a(4188),a(1862),a(4016)),c=a(8312),d=a(186),u=e([n,r]);[n,r]=u.then?(await u)():u;const h=(0,s.Ef)(n.A),g=(0,o.hU)({locale:"zh_cn",messages:{zh_cn:l,zh_tw:c,en_us:d}});h.use(i.A),h.use(g),h.use(r.A);const m="true"===localStorage.getItem("isDarkMode");document.documentElement.classList.toggle("dark",m),h.mount("#app"),t()}catch(h){t(h)}}))},9342:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{var o=a(1387),n=a(3778),r=a(6246),i=a(5191),l=a(2167),c=a(9922),d=a(9390),u=a(7360),h=e([n,r,d]);[n,r,d]=h.then?(await h)():h;const g=[{path:"/webui/dashboard",name:"dashboard",component:n["default"]},{path:"/webui/config",name:"config",component:r["default"]},{path:"/webui/data",name:"data",component:i["default"]},{path:"/webui/logs",name:"logs",component:l["default"]},{path:"/webui/chat",name:"chat",component:c["default"]},{path:"/webui/setting",name:"setting",component:d["default"]},{path:"/webui/about",name:"about",component:u["default"]},{path:"/webui/:pathMatch(.*)*",redirect:"/webui/dashboard"}],m=(0,o.aE)({history:(0,o.LA)(),routes:g});t.A=m,s()}catch(g){s(g)}}))},7067:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{var o=a(324),n=a(8598),r=(a(1816),a(1241)),i=e([n]);n=(i.then?(await i)():i)[0];const l=(0,r.A)(n.A,[["render",o.X],["__scopeId","data-v-28be560d"]]);t.A=l,s()}catch(l){s(l)}}))},3367:function(e,t,a){"use strict";a.d(t,{A:function(){return g}});var s=a(6768),o=a(4232),n=a.p+"img/logo.fab5ae93.png";const r={class:"header-left"},i={class:"header-right"};function l(e,t,a,l,c,d){const u=(0,s.g2)("el-button"),h=(0,s.g2)("el-option"),g=(0,s.g2)("el-select"),m=(0,s.g2)("el-header");return(0,s.uX)(),(0,s.Wv)(m,{class:"header"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",r,[c.screenWidth<1024?((0,s.uX)(),(0,s.Wv)(u,{key:0,class:"menu-button",onClick:d.switchSidebar},{default:(0,s.k6)((()=>t[1]||(t[1]=[(0,s.Lk)("i",{class:"mdi mdi-menu"},null,-1)]))),_:1},8,["onClick"])):(0,s.Q3)("",!0),t[2]||(t[2]=(0,s.Lk)("div",{class:"logo"},[(0,s.Lk)("img",{src:n,alt:"Logo",class:"logo-image"}),(0,s.Lk)("div",{class:"logo-text"},[(0,s.Lk)("span",{class:"akari-bot-text"},"AkariBot"),(0,s.Lk)("div",{class:"webui-container"},[(0,s.Lk)("span",{class:"web-ui-text"},"WebUI "),(0,s.Lk)("span",{class:"beta-tag"},"Beta")])])],-1))]),(0,s.Lk)("div",i,[(0,s.bF)(g,{modelValue:c.currentLang,"onUpdate:modelValue":t[0]||(t[0]=e=>c.currentLang=e),onChange:d.changeLanguage,class:"lang-select",style:{width:"100px","margin-right":"10px"}},{default:(0,s.k6)((()=>[(0,s.bF)(h,{label:"ç®€ä½“ä¸­æ–‡",value:"zh_cn"}),(0,s.bF)(h,{label:"ç¹é«”ä¸­æ–‡",value:"zh_tw"}),(0,s.bF)(h,{label:"English",value:"en_us"})])),_:1},8,["modelValue","onChange"]),(0,s.bF)(u,{class:"help-button",onClick:d.goToHelp},{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e.$t("header.button.doc")),1)])),_:1},8,["onClick"]),(0,s.bF)(u,{class:"theme-toggle-button",onClick:d.toggleDarkMode},{default:(0,s.k6)((()=>[(0,s.Lk)("i",{class:(0,o.C4)(c.isDarkMode?"mdi mdi-weather-sunny":"mdi mdi-weather-night")},null,2)])),_:1},8,["onClick"])])])),_:1})}var c=a(5931),d={name:"AppHeader",emits:["toggle-sidebar"],data(){const{t:e}=(0,c.s9)();return{t:e,isDarkMode:!1,screenWidth:window.innerWidth,currentLang:localStorage.getItem("language")||"zh_cn"}},mounted(){const e=localStorage.getItem("isDarkMode");null!==e&&(this.isDarkMode=JSON.parse(e)),this.changeLanguage(this.currentLang),window.addEventListener("resize",this.updateScreenWidth)},beforeUnmount(){window.removeEventListener("resize",this.updateScreenWidth)},methods:{updateScreenWidth(){this.screenWidth=window.innerWidth},goToHelp(){window.open("https://bot.teahouse.team","_blank")},toggleDarkMode(){this.isDarkMode=!this.isDarkMode,document.documentElement.classList.toggle("dark",this.isDarkMode),document.body.classList.toggle("dark-mode",this.isDarkMode),localStorage.setItem("isDarkMode",JSON.stringify(this.isDarkMode))},switchSidebar(){this.$emit("toggle-sidebar")},changeLanguage(e){this.currentLang=e,this.$i18n.locale=e,localStorage.setItem("language",e)}}},u=a(1241);const h=(0,u.A)(d,[["render",l],["__scopeId","data-v-4f9fe6be"]]);var g=h},5983:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{var o=a(6329),n=a(4922),r=(a(4983),a(1241)),i=e([n]);n=(i.then?(await i)():i)[0];const l=(0,r.A)(n.A,[["render",o.X],["__scopeId","data-v-cf658b84"]]);t.A=l,s()}catch(l){s(l)}}))},9128:function(e,t,a){"use strict";a.d(t,{A:function(){return d}});var s=a(6768),o=a(4232);function n(e,t,a,n,r,i){const l=(0,s.g2)("el-menu-item"),c=(0,s.g2)("el-menu"),d=(0,s.g2)("el-aside");return(0,s.uX)(),(0,s.Wv)(d,{width:"200px",class:"sidebar"},{default:(0,s.k6)((()=>[(0,s.bF)(c,{"default-active":r.activeMenu,class:"sidebar-menu",onSelect:i.handleSelect},{default:(0,s.k6)((()=>[(0,s.bF)(l,{index:"dashboard"},{default:(0,s.k6)((()=>[t[0]||(t[0]=(0,s.Lk)("i",{class:"mdi mdi-view-dashboard"},null,-1)),(0,s.Lk)("span",null,(0,o.v_)(e.$t("sidebar.item.dashboard")),1)])),_:1}),(0,s.bF)(l,{index:"config"},{default:(0,s.k6)((()=>[t[1]||(t[1]=(0,s.Lk)("i",{class:"mdi mdi-cog"},null,-1)),(0,s.Lk)("span",null,(0,o.v_)(e.$t("sidebar.item.config")),1)])),_:1}),(0,s.bF)(l,{index:"data"},{default:(0,s.k6)((()=>[t[2]||(t[2]=(0,s.Lk)("i",{class:"mdi mdi-database"},null,-1)),(0,s.Lk)("span",null,(0,o.v_)(e.$t("sidebar.item.data")),1)])),_:1}),(0,s.bF)(l,{index:"logs"},{default:(0,s.k6)((()=>[t[3]||(t[3]=(0,s.Lk)("i",{class:"mdi mdi-console"},null,-1)),(0,s.Lk)("span",null,(0,o.v_)(e.$t("sidebar.item.logs")),1)])),_:1}),(0,s.bF)(l,{index:"chat"},{default:(0,s.k6)((()=>[t[4]||(t[4]=(0,s.Lk)("i",{class:"mdi mdi-chat"},null,-1)),(0,s.Lk)("span",null,(0,o.v_)(e.$t("sidebar.item.chat")),1)])),_:1}),(0,s.bF)(l,{index:"setting"},{default:(0,s.k6)((()=>[t[5]||(t[5]=(0,s.Lk)("i",{class:"mdi mdi-tune"},null,-1)),(0,s.Lk)("span",null,(0,o.v_)(e.$t("sidebar.item.setting")),1)])),_:1}),(0,s.bF)(l,{index:"about"},{default:(0,s.k6)((()=>[t[6]||(t[6]=(0,s.Lk)("i",{class:"mdi mdi-information-outline"},null,-1)),(0,s.Lk)("span",null,(0,o.v_)(e.$t("sidebar.item.about")),1)])),_:1})])),_:1},8,["default-active","onSelect"])])),_:1})}a(4114);var r=a(5931),i={name:"AppSidebar",data(){const{t:e}=(0,r.s9)();return{t:e,activeMenu:this.getActiveMenuFromRoute()}},methods:{getActiveMenuFromRoute(){const e=["dashboard","config","data","logs","chat","setting","about"],t=this.$route.name;return e.includes(t)?t:""},handleSelect(e){this.activeMenu=e,this.$router.push({name:e})}},watch:{"$route.name":function(){this.activeMenu=this.getActiveMenuFromRoute()}}},l=a(1241);const c=(0,l.A)(i,[["render",n],["__scopeId","data-v-5737e6e3"]]);var d=c},3232:function(e,t,a){"use strict";a.d(t,{A:function(){return d}});var s=a(6768),o=a(4232);function n(e,t,a,n,r,i){const l=(0,s.g2)("el-checkbox"),c=(0,s.g2)("el-button"),d=(0,s.g2)("el-dialog");return(0,s.uX)(),(0,s.Wv)(d,{title:e.$t("suggest_set_password.title"),modelValue:i.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=e=>i.dialogVisible=e),width:"400px","align-center":""},{footer:(0,s.k6)((()=>[(0,s.bF)(c,{onClick:i.handleClose},{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e.$t("suggest_set_password.button.cancel")),1)])),_:1},8,["onClick"]),(0,s.bF)(c,{type:"primary",onClick:i.goToSetting},{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e.$t("suggest_set_password.button.confirm")),1)])),_:1},8,["onClick"])])),default:(0,s.k6)((()=>[(0,s.Lk)("p",null,(0,o.v_)(e.$t("suggest_set_password.text")),1),(0,s.bF)(l,{modelValue:r.noMorePrompt,"onUpdate:modelValue":t[0]||(t[0]=e=>r.noMorePrompt=e)},{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e.$t("suggest_set_password.checkbox.no_more_prompt")),1)])),_:1},8,["modelValue"])])),_:1},8,["title","modelValue"])}a(4114);var r=a(5931),i={props:{modelValue:Boolean},emits:["update:modelValue"],data(){const{t:e}=(0,r.s9)();return{t:e,noMorePrompt:!1}},computed:{dialogVisible:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{handleClose(){this.noMorePrompt&&localStorage.setItem("noPasswordPromptDisabled","true"),this.dialogVisible=!1},goToSetting(){this.noMorePrompt&&localStorage.setItem("noPasswordPromptDisabled","true"),this.dialogVisible=!1,this.$router.push({name:"setting"})}}},l=a(1241);const c=(0,l.A)(i,[["render",n]]);var d=c},7292:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{var o=a(6157),n=a(5365),r=(a(8982),a(1241)),i=e([n]);n=(i.then?(await i)():i)[0];const l=(0,r.A)(n.A,[["render",o.X],["__scopeId","data-v-5c3ac30a"]]);t.A=l,s()}catch(l){s(l)}}))},1997:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{var o=a(4326),n=a(220),r=(a(8806),a(1241)),i=e([n]);n=(i.then?(await i)():i)[0];const l=(0,r.A)(n.A,[["render",o.X],["__scopeId","data-v-5ed824c0"]]);t.A=l,s()}catch(l){s(l)}}))},20:function(e,t,a){"use strict";a.d(t,{A:function(){return m}});var s=a(6768),o=a(4232);function n(e,t,a,n,r,i){const l=(0,s.g2)("el-input"),c=(0,s.g2)("el-form-item"),d=(0,s.g2)("el-button"),u=(0,s.g2)("el-form");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("h3",null,(0,o.v_)(e.$t("setting.change_password.title")),1),(0,s.bF)(u,{model:r.form,rules:r.rules,ref:"formRef","label-width":"150px"},{default:(0,s.k6)((()=>[r.noPassword?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(c,{key:0,label:e.$t("setting.change_password.input.old_password"),prop:"old_password"},{default:(0,s.k6)((()=>[(0,s.bF)(l,{modelValue:r.form.old_password,"onUpdate:modelValue":t[0]||(t[0]=e=>r.form.old_password=e),type:"password"},null,8,["modelValue"])])),_:1},8,["label"])),(0,s.bF)(c,{label:e.$t("setting.change_password.input.new_password"),prop:"new_password"},{default:(0,s.k6)((()=>[(0,s.bF)(l,{modelValue:r.form.new_password,"onUpdate:modelValue":t[1]||(t[1]=e=>r.form.new_password=e),type:"password"},null,8,["modelValue"])])),_:1},8,["label"]),(0,s.bF)(c,{label:e.$t("setting.change_password.input.confirm_password"),prop:"confirm_password"},{default:(0,s.k6)((()=>[(0,s.bF)(l,{modelValue:r.form.confirm_password,"onUpdate:modelValue":t[2]||(t[2]=e=>r.form.confirm_password=e),type:"password"},null,8,["modelValue"])])),_:1},8,["label"]),r.noPassword?((0,s.uX)(),(0,s.Wv)(c,{key:1},{default:(0,s.k6)((()=>[(0,s.bF)(d,{type:"primary",onClick:i.handleUpdatePassword},{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e.$t("setting.change_password.button.set_password")),1)])),_:1},8,["onClick"])])),_:1})):(0,s.Q3)("",!0),r.noPassword?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(c,{key:2,class:"password-buttons"},{default:(0,s.k6)((()=>[(0,s.bF)(d,{type:"primary",onClick:i.handleUpdatePassword},{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e.$t("setting.change_password.button.update_password")),1)])),_:1},8,["onClick"]),(0,s.bF)(d,{type:"danger",onClick:i.handleClearPassword},{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e.$t("setting.change_password.button.clear_password")),1)])),_:1},8,["onClick"])])),_:1}))])),_:1},8,["model","rules"])],64)}var r=a(1219),i=a(2933),l=a(5931),c=a(4373),d=a(8704),u={data(){const{t:e}=(0,l.s9)();return{formRef:null,form:{old_password:"",new_password:"",confirm_password:""},noPassword:!1,rules:{old_password:[{required:!0,message:this.$t("setting.change_password.validate.old_password"),trigger:"blur"}],new_password:[{required:!0,message:this.$t("setting.change_password.validate.new_password"),trigger:"blur"}],confirm_password:[{required:!0,message:this.$t("setting.change_password.validate.confirm_password"),trigger:"blur"},{validator:(e,t,a)=>{t!==this.form.new_password?a(new Error(this.$t("setting.change_password.validate.inconsistent"))):a()},trigger:"blur"}]},t:e}},mounted(){this.noPassword="true"===localStorage.getItem("noPassword")},methods:{async handleUpdatePassword(){try{try{await this.formRef.validate()}catch{return}const e={new_password:this.form.new_password};this.noPassword||(e.password=this.form.old_password);const t=await c.A.post("/api/change-password",e);200===t.status&&(r.nk.success(this.$t("setting.change_password.message.success.update")),d.A.remove("XSRF-TOKEN"),location.reload())}catch(e){401===e.response?.status?r.nk.error(this.$t("setting.change_password.message.failed")):r.nk.error(this.$t("message.error.fetch")+e.message)}},async handleClearPassword(){try{await this.formRef.validateField("old_password"),i.s.confirm(this.$t("setting.change_password.confirm.message"),this.$t("confirm.title.warning"),{confirmButtonText:this.$t("button.confirm"),cancelButtonText:this.$t("button.cancel"),type:"warning"}).then((async()=>{await this.confirmClearPassword()})).catch((()=>{}))}catch{return}},async confirmClearPassword(){try{const e={password:this.form.old_password},t=await c.A.post("/api/clear-password",e);200===t.status&&(r.nk.success(this.$t("setting.change_password.message.success.clear")),d.A.remove("XSRF-TOKEN"),localStorage.removeItem("noPasswordPromptDisabled"),location.reload())}catch(e){401===e.response?.status?r.nk.error(this.$t("setting.change_password.message.failed")):r.nk.error(this.$t("message.error.fetch")+e.message)}}}},h=a(1241);const g=(0,h.A)(u,[["render",n],["__scopeId","data-v-1d372016"]]);var m=g},8246:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{var o=a(9),n=a(7219),r=a(1241),i=e([n]);n=(i.then?(await i)():i)[0];const l=(0,r.A)(n.A,[["render",o.X]]);t.A=l,s()}catch(l){s(l)}}))},7360:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var s=a(6768),o=a(4232),n=a.p+"img/character_marked.5342b0aa.png";const r={class:"container"},i={class:"quote"},l={class:"repo-buttons"},c={class:"github-link"},d=["title"],u={class:"github-link"},h=["title"],g={class:"other-links"};function m(e,t,a,m,p,b){const f=(0,s.g2)("el-button");return(0,s.uX)(),(0,s.CE)("div",r,[t[4]||(t[4]=(0,s.Lk)("img",{width:"380",src:n,alt:"Akaribot"},null,-1)),t[5]||(t[5]=(0,s.Lk)("h1",{class:"title"},"å°å¯ Â· AkariBot",-1)),(0,s.Lk)("span",i,(0,o.v_)(e.$t("about.quote")),1),t[6]||(t[6]=(0,s.Lk)("span",{class:"text"},[(0,s.eW)("By "),(0,s.Lk)("a",{href:"https://github.com/OasisAkari"},"OasisAkari"),(0,s.eW)(" via "),(0,s.Lk)("a",{href:"https://teahouse.team"},"Teahouse Studios")],-1)),(0,s.Lk)("div",l,[(0,s.Lk)("div",c,[(0,s.bF)(f,{class:"repo-button",onClick:b.goToRepo},{default:(0,s.k6)((()=>[t[0]||(t[0]=(0,s.Lk)("i",{class:"fab fa-github"},null,-1)),(0,s.Lk)("span",null,(0,o.v_)(e.$t("about.button.repo.main")),1)])),_:1},8,["onClick"]),(0,s.Lk)("img",{src:"https://img.shields.io/github/stars/Teahouse-Studios/akari-bot?style=social",alt:"Repo Stars",title:e.$t("about.star.tooltip")},null,8,d)]),(0,s.Lk)("div",u,[(0,s.bF)(f,{class:"repo-button",onClick:b.goToWebUIRepo},{default:(0,s.k6)((()=>[t[1]||(t[1]=(0,s.Lk)("i",{class:"fab fa-github"},null,-1)),(0,s.Lk)("span",null,(0,o.v_)(e.$t("about.button.repo.webui")),1)])),_:1},8,["onClick"]),(0,s.Lk)("img",{src:"https://img.shields.io/github/stars/DoroWolf/akari-bot-webui?style=social",alt:"Repo Stars",title:e.$t("about.star.tooltip")},null,8,h)])]),(0,s.Lk)("div",g,[(0,s.bF)(f,{class:"locale-button",onClick:b.goToI18N},{default:(0,s.k6)((()=>[t[2]||(t[2]=(0,s.Lk)("i",{class:"mdi mdi-translate"},null,-1)),(0,s.Lk)("span",null,(0,o.v_)(e.$t("about.button.locale")),1)])),_:1},8,["onClick"]),(0,s.bF)(f,{class:"sponsor-button",onClick:b.goToSponsor},{default:(0,s.k6)((()=>[t[3]||(t[3]=(0,s.Lk)("i",{class:"mdi mdi-heart-outline"},null,-1)),(0,s.Lk)("span",null,(0,o.v_)(e.$t("about.button.sponsor")),1)])),_:1},8,["onClick"])]),t[7]||(t[7]=(0,s.Lk)("span",{class:"footer-text"},"Made with loveâ¤ï¸ and PythonðŸ.",-1))])}var p=a(5931),b={name:"AboutView",data(){const{t:e}=(0,p.s9)();return{t:e}},methods:{updateScreenWidth(){this.screenWidth=window.innerWidth},goToRepo(){window.open("https://github.com/Teahouse-Studios/akari-bot","_blank")},goToWebUIRepo(){window.open("https://github.com/DoroWolf/akari-bot-webui","_blank")},goToI18N(){window.open("https://crowdin.com/project/akari-bot","_blank")},goToSponsor(){window.open("https://afdian.com/a/teahouse","_blank")}}},f=a(1241);const k=(0,f.A)(b,[["render",m],["__scopeId","data-v-5a5cb29a"]]);var _=k},9922:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var s=a(6768),o=a(4232),n=a(5130);const r={class:"chat-container"},i={class:"chat-header"},l=["title"],c={class:"chat-title"},d={class:"chat-box",ref:"chatBox"},u={key:0,class:"chat-placeholder"},h={class:"placeholder-title"},g={class:"placeholder-sub"},m={class:"placeholder-sub"},p={class:"placeholder-sub"},b={key:1},f={key:2},k={key:3},_={key:4},v={key:5},w={key:6},y=["href","onClick"],C=["src","onClick"],x={class:"send-box"},L=["src"];function F(e,t,a,F,S,V){const A=(0,s.g2)("el-button"),T=(0,s.g2)("el-input"),$=(0,s.g2)("el-dialog");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.Lk)("div",i,[(0,s.Lk)("div",{style:(0,o.Tr)({backgroundColor:"connected"===S.connectionStatus?"limegreen":"connecting"===S.connectionStatus?"orange":"red"}),class:"connection-indicator",title:"connected"===S.connectionStatus?e.$t("chat.status.tooltip.connected"):"connecting"===S.connectionStatus?e.$t("chat.status.tooltip.connecting"):e.$t("chat.status.tooltip.disconnected")},null,12,l),(0,s.Lk)("div",c,"# "+(0,o.v_)(e.$t("chat.title")),1),(0,s.bF)(A,{class:"reset-button",onClick:V.resetChat,title:e.$t("chat.button.reset"),circle:""},{default:(0,s.k6)((()=>t[2]||(t[2]=[(0,s.Lk)("i",{class:"mdi mdi-restart"},null,-1)]))),_:1},8,["onClick","title"])]),(0,s.Lk)("div",d,[0===S.messages.length?((0,s.uX)(),(0,s.CE)("div",u,[(0,s.Lk)("div",h,(0,o.v_)(e.$t("chat.chatbox.title")),1),(0,s.Lk)("div",g,[(0,s.eW)((0,o.v_)(e.$t("chat.chatbox.text.prompt1.prefix"))+" ",1),t[3]||(t[3]=(0,s.Lk)("code",null,"~help",-1)),(0,s.eW)(" "+(0,o.v_)(e.$t("chat.chatbox.text.prompt1.suffix")),1)]),(0,s.Lk)("div",m,[(0,s.eW)((0,o.v_)(e.$t("chat.chatbox.text.prompt2.prefix"))+" ",1),t[4]||(t[4]=(0,s.Lk)("code",null,"Enter",-1)),(0,s.eW)(" "+(0,o.v_)(e.$t("chat.chatbox.text.prompt2.suffix")),1)]),(0,s.Lk)("div",p,[(0,s.eW)((0,o.v_)(e.$t("chat.chatbox.text.prompt3.prefix"))+" ",1),t[5]||(t[5]=(0,s.Lk)("code",null,"Shift + Enter",-1)),(0,s.eW)(" "+(0,o.v_)(e.$t("chat.chatbox.text.prompt3.suffix")),1)])])):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(S.messages,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:(0,o.C4)(["chat-message",e.from])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(V.processMessage(e.text),((e,t)=>((0,s.uX)(),(0,s.CE)("span",{key:t},["text"===e.type?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.eW)((0,o.v_)(e.text),1)],64)):"newline"===e.type?((0,s.uX)(),(0,s.CE)("br",b)):"bold"===e.type?((0,s.uX)(),(0,s.CE)("strong",f,(0,o.v_)(e.text),1)):"italic"===e.type?((0,s.uX)(),(0,s.CE)("em",k,(0,o.v_)(e.text),1)):"del"===e.type?((0,s.uX)(),(0,s.CE)("del",_,(0,o.v_)(e.text),1)):"code"===e.type?((0,s.uX)(),(0,s.CE)("code",v,(0,o.v_)(e.text),1)):"pre"===e.type?((0,s.uX)(),(0,s.CE)("pre",w,(0,o.v_)(e.text),1)):"link"===e.type?((0,s.uX)(),(0,s.CE)("a",{key:7,href:e.url,target:"_blank",rel:"noopener noreferrer",onClick:(0,n.D$)((t=>V.confirmExternalLink(e.url)),["prevent"])},(0,o.v_)(e.text),9,y)):"img"===e.type?((0,s.uX)(),(0,s.CE)("img",{key:8,src:e.src,style:{"max-width":"80%","max-height":"300px",margin:"8px 0","object-fit":"contain"},onClick:t=>V.showImagePreview(e.src)},null,8,C)):(0,s.Q3)("",!0)])))),128))],2)))),128))],512),(0,s.Lk)("div",x,[(0,s.bF)(T,{modelValue:S.inputText,"onUpdate:modelValue":t[0]||(t[0]=e=>S.inputText=e),placeholder:e.$t("chat.input.send"),onKeydown:(0,n.jR)(V.handleEnterKey,["enter"]),class:"chat-send-input",type:"textarea",resize:"none",clearable:"",autosize:"",disabled:"connected"!=S.connectionStatus},null,8,["modelValue","placeholder","onKeydown","disabled"]),(0,s.bF)(A,{type:"primary",onClick:V.sendMessage,style:{"margin-left":"10px"},disabled:"connected"!=S.connectionStatus||""===S.inputText.trim()},{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e.$t("chat.button.send")),1)])),_:1},8,["onClick","disabled"])]),(0,s.bF)($,{modelValue:S.imageDialogVisible,"onUpdate:modelValue":t[1]||(t[1]=e=>S.imageDialogVisible=e),class:"image-preview-dialog","show-close":!1,center:!0},{default:(0,s.k6)((()=>[(0,s.Lk)("img",{src:S.previewImageSrc,style:{width:"100%",height:"100%"}},null,8,L)])),_:1},8,["modelValue"])])}a(4114),a(8992),a(3949),a(1454),a(4603),a(7566),a(8721);var S=a(4373),V=a(1219),A=a(2933),T=a(5931),$={name:"ChatView",data(){const{t:e}=(0,T.s9)();return{inputText:"",messages:[],chatBox:null,websocket:null,connectionStatus:"connecting",imageDialogVisible:!1,previewImageSrc:"",cancelTokenSource:S.A.CancelToken.source(),t:e}},methods:{async connectWebSocket(){this.connectionStatus="connecting";try{const e=await fetch("/config.json"),t=await e.json();let a=t.api_url;/^https?:\/\//i.test(a)||(a="http://"+a);const s=new URL(a),o="https:"===s.protocol?"wss:":"ws:",n=`${o}//${s.hostname}:${s.port}/ws/chat`;this.websocket=new WebSocket(n),this.websocket.onopen=()=>{this.connectionStatus="connected"},this.websocket.onmessage=e=>{const t=JSON.parse(e.data);this.messages.push({from:"bot",text:this.renderResponse(t)}),this.scrollToBottom()},this.websocket.onerror=()=>{this.connectionStatus="disconnected",V.nk.error(this.t("message.error.connect.server"))}}catch(e){this.connectionStatus="disconnected",V.nk.error(this.t("message.error.connect")+e.message)}},async authenticateToken(){try{const e=await S.A.get("/api/verify-token",{cancelToken:this.cancelTokenSource.token});200===e.status?this.connectWebSocket():(this.connectionStatus="disconnected",V.nk.error(this.t("message.error.connect.auth")))}catch(e){S.A.isCancel(e)?console.log("Request canceled"):(this.connectionStatus="disconnected",V.nk.error(this.t("message.error.fetch")+e.message))}},sendMessage(){const e=this.inputText.trim();e&&(this.messages.push({from:"user",text:e}),this.websocket?.send(e),this.inputText="",this.scrollToBottom())},resetChat(){this.connectionStatus="connecting",this.messages=[],this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.websocket.close(),this.authenticateToken()},scrollToBottom(){this.$nextTick((()=>{this.chatBox&&(this.chatBox.scrollTop=this.chatBox.scrollHeight)}))},handleEnterKey(e){e.shiftKey||(e.preventDefault(),this.sendMessage())},processMessage(e){const t=[],a=/```\n*([\s\S]*?)\n*```/g,s=/\[image:([^<]+)\]/g;let o,n=0;while(null!==(o=a.exec(e))){const s=o.index;if(s>n){const a=e.slice(n,s);t.push(...this.processInlineMessage(a))}t.push({type:"pre",text:o[1]}),n=a.lastIndex}while(null!==(o=s.exec(e))){const a=o.index;if(a>n){const s=e.slice(n,a);t.push(...this.processInlineMessage(s))}const r=`${o[1]}`;(r.startsWith("data:image/png;base64,")||r.startsWith("data:image/jpeg;base64,")||r.startsWith("data:image/gif;base64,"))&&t.push({type:"img",src:r}),n=s.lastIndex}return n<e.length&&t.push(...this.processInlineMessage(e.slice(n))),t},processInlineMessage(e){const t=[];let a=0;const s=/(?:\*\*(.+?)\*\*)|(?:_(.+?)_)|(?:~~(.+?)~~)|(?:`(.+?)`)|(?:\[([^\]]+)\]\((https?:\/\/[^\s)]+)\))|((?:https?:\/\/)[^\s]+)/g;let o;while(null!==(o=s.exec(e))){const n=o.index;if(n>a){const s=e.slice(a,n);t.push(...this.splitTextWithLineBreaks(s))}o[1]?t.push({type:"bold",text:o[1]}):o[2]?t.push({type:"italic",text:o[2]}):o[3]?t.push({type:"del",text:o[3]}):o[4]?t.push({type:"code",text:o[4]}):o[5]&&o[6]?t.push({type:"link",text:o[5],url:o[6]}):o[7]&&t.push({type:"link",text:o[7],url:o[7]}),a=s.lastIndex}return a<e.length&&t.push(...this.splitTextWithLineBreaks(e.slice(a))),t},splitTextWithLineBreaks(e){const t=[],a=e.split("\n");return a.forEach(((e,s)=>{e&&t.push({type:"text",text:e}),s<a.length-1&&t.push({type:"newline"})})),t},confirmExternalLink(e){A.s.confirm(this.$t("chat.external_link.confirm.message",{url:e}),this.$t("chat.external_link.confirm.title"),{confirmButtonText:this.$t("yes"),cancelButtonText:this.$t("no"),type:"warning"}).then((()=>{window.open(e,"_blank")})).catch((()=>{console.log("Link blocked")}))},renderResponse(e){return Array.isArray(e)?e.map((e=>{if("text"===e.type)return e.content;if("image"===e.type){const t=e.content;return t.startsWith("data:image/png;base64,")||t.startsWith("data:image/jpeg;base64,")||t.startsWith("data:image/gif;base64,")?`[image:${t}]`:""}return""})).join("\n"):e},showImagePreview(e){this.previewImageSrc=e,this.imageDialogVisible=!0}},mounted(){this.authenticateToken()},beforeUnmount(){this.websocket&&this.websocket.close(),this.cancelTokenSource.cancel("Component unmounted")}},D=a(1241);const W=(0,D.A)($,[["render",F],["__scopeId","data-v-9c221736"]]);var P=W},6246:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{a.r(t);var o=a(1378),n=a(5875),r=(a(6078),a(1241)),i=e([n]);n=(i.then?(await i)():i)[0];const l=(0,r.A)(n.A,[["render",o.X],["__scopeId","data-v-577ac37e"]]);t["default"]=l,s()}catch(l){s(l)}}))},3778:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{a.r(t);var o=a(2304),n=a(7375),r=(a(9187),a(1241)),i=e([n]);n=(i.then?(await i)():i)[0];const l=(0,r.A)(n.A,[["render",o.X]]);t["default"]=l,s()}catch(l){s(l)}}))},5191:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var s=a(6768);const o={key:0},n={key:1};function r(e,t,a,r,i,l){const c=(0,s.g2)("el-button"),d=(0,s.g2)("el-button-group"),u=(0,s.g2)("SessionManager"),h=(0,s.g2)("UserManager");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.bF)(d,{class:"mb-4"},{default:(0,s.k6)((()=>[(0,s.bF)(c,{type:"session"===r.activeCard?"primary":"default",onClick:t[0]||(t[0]=e=>r.activeCard="session")},{default:(0,s.k6)((()=>t[2]||(t[2]=[(0,s.Lk)("i",{class:"mdi mdi-forum"},null,-1)]))),_:1},8,["type"]),(0,s.bF)(c,{type:"user"===r.activeCard?"primary":"default",onClick:t[1]||(t[1]=e=>r.activeCard="user")},{default:(0,s.k6)((()=>t[3]||(t[3]=[(0,s.Lk)("i",{class:"mdi mdi-account"},null,-1)]))),_:1},8,["type"])])),_:1}),"session"===r.activeCard?((0,s.uX)(),(0,s.CE)("div",o,[(0,s.bF)(u)])):((0,s.uX)(),(0,s.CE)("div",n,[(0,s.bF)(h)]))])}var i=a(144),l=a(4232);const c={class:"header-container"},d={class:"filter-container"},u={class:"filter-item"},h={class:"filter-item"},g={class:"filter-item"},m={style:{"white-space":"pre-wrap","word-break":"break-word"}},p={class:"tag-container"},b={class:"tag-container"};function f(e,t,a,o,n,r){const i=(0,s.g2)("el-button"),f=(0,s.g2)("el-option"),k=(0,s.g2)("el-select"),_=(0,s.g2)("el-input"),v=(0,s.g2)("el-table-column"),w=(0,s.g2)("el-tag"),y=(0,s.g2)("el-popover"),C=(0,s.g2)("el-table"),x=(0,s.g2)("el-pagination"),L=(0,s.g2)("el-dialog"),F=(0,s.g2)("el-card"),S=(0,s.g2)("el-form-item"),V=(0,s.g2)("el-col"),A=(0,s.g2)("el-switch"),T=(0,s.g2)("el-row"),$=(0,s.g2)("el-form"),D=(0,s.gN)("loading");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(F,{class:"session-card"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",c,[t[15]||(t[15]=(0,s.Lk)("h3",null,"ä¼šè¯ç®¡ç†",-1)),(0,s.bF)(i,{onClick:r.refreshData,type:"primary",style:{float:"right","margin-left":"10px"}},{default:(0,s.k6)((()=>t[14]||(t[14]=[(0,s.Lk)("i",{class:"mdi mdi-refresh"},null,-1),(0,s.eW)(" åˆ·æ–°")]))),_:1},8,["onClick"])]),(0,s.Lk)("div",d,[(0,s.Lk)("div",u,[(0,s.bF)(k,{modelValue:n.selectedPrefix,"onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedPrefix=e),clearable:"",placeholder:"é€‰æ‹©å¹³å°å‰ç¼€",onChange:r.debouncedRefresh},{default:(0,s.k6)((()=>[(0,s.bF)(f,{label:"QQ",value:"QQ"}),(0,s.bF)(f,{label:"QQBot",value:"QQBot"}),(0,s.bF)(f,{label:"Discord",value:"Discord"}),(0,s.bF)(f,{label:"Telegram",value:"Telegram"}),(0,s.bF)(f,{label:"KOOK",value:"KOOK"}),(0,s.bF)(f,{label:"Web",value:"Web"}),(0,s.bF)(f,{label:"TEST",value:"TEST"})])),_:1},8,["modelValue","onChange"])]),(0,s.Lk)("div",h,[(0,s.bF)(k,{modelValue:n.selectedStatus,"onUpdate:modelValue":t[1]||(t[1]=e=>n.selectedStatus=e),clearable:"",placeholder:"é€‰æ‹©çŠ¶æ€",onChange:r.debouncedRefresh},{default:(0,s.k6)((()=>[(0,s.bF)(f,{label:"æœªç¦è¨€",value:"unmuted"}),(0,s.bF)(f,{label:"å·²ç¦è¨€",value:"muted"}),(0,s.bF)(f,{label:"å·²å°ç¦",value:"blocked"})])),_:1},8,["modelValue","onChange"])]),(0,s.Lk)("div",g,[(0,s.bF)(_,{modelValue:n.platformIdPart,"onUpdate:modelValue":t[2]||(t[2]=e=>n.platformIdPart=e),placeholder:"æœç´¢ä¼šè¯ ID",onInput:r.debouncedRefresh},null,8,["modelValue","onInput"])])]),(0,s.bo)(((0,s.uX)(),(0,s.Wv)(C,{data:n.targetList,style:{width:"100%"},stripe:""},{default:(0,s.k6)((()=>[(0,s.bF)(v,{prop:"target_id",label:"ä¼šè¯ ID",sortable:"","min-width":"140"}),(0,s.bF)(v,{prop:"locale",label:"è¯­è¨€","min-width":"100"}),(0,s.bF)(v,{prop:"modules",label:"æ¨¡å—","min-width":"160"},{default:(0,s.k6)((({row:e})=>[(0,s.eW)((0,l.v_)(e.modules.length)+" ",1),e.modules.length>0?((0,s.uX)(),(0,s.Wv)(i,{key:0,size:"small",type:"primary",style:{"margin-left":"5px"},onClick:t=>r.viewModules(e)},{default:(0,s.k6)((()=>t[16]||(t[16]=[(0,s.eW)("æŸ¥çœ‹æ¨¡å—")]))),_:2},1032,["onClick"])):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(v,{label:"è‡ªå®šä¹‰ç®¡ç†å‘˜","min-width":"160"},{default:(0,s.k6)((({row:e})=>[(0,s.eW)((0,l.v_)(e.custom_admins.length)+" ",1),e.custom_admins.length>0?((0,s.uX)(),(0,s.Wv)(i,{key:0,size:"small",type:"primary",style:{"margin-left":"5px"},onClick:t=>r.viewAdmins(e)},{default:(0,s.k6)((()=>t[17]||(t[17]=[(0,s.eW)("æŸ¥çœ‹ç®¡ç†å‘˜")]))),_:2},1032,["onClick"])):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(v,{label:"çŠ¶æ€","min-width":"160"},{default:(0,s.k6)((({row:e})=>[e.muted?((0,s.uX)(),(0,s.Wv)(w,{key:1,type:"warning"},{default:(0,s.k6)((()=>t[19]||(t[19]=[(0,s.eW)("å·²ç¦è¨€")]))),_:1})):((0,s.uX)(),(0,s.Wv)(w,{key:0,type:"success"},{default:(0,s.k6)((()=>t[18]||(t[18]=[(0,s.eW)("æœªç¦è¨€")]))),_:1})),e.blocked?((0,s.uX)(),(0,s.Wv)(w,{key:2,type:"danger",style:{"margin-left":"5px"}},{default:(0,s.k6)((()=>t[20]||(t[20]=[(0,s.eW)("å·²å°ç¦")]))),_:1})):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(v,{label:"ä¼šè¯æ•°æ®","min-width":"100"},{default:(0,s.k6)((({row:e})=>[(0,s.bF)(y,{placement:"top",width:"300",trigger:"hover"},{reference:(0,s.k6)((()=>[(0,s.bF)(i,{size:"mini",type:"text"},{default:(0,s.k6)((()=>t[21]||(t[21]=[(0,s.eW)("æŸ¥çœ‹è¯¦æƒ…")]))),_:1})])),default:(0,s.k6)((()=>[(0,s.Lk)("pre",m,(0,l.v_)(JSON.stringify(e.target_data,null,2)),1)])),_:2},1024)])),_:1}),(0,s.bF)(v,{label:"æ“ä½œ","min-width":"160"},{default:(0,s.k6)((({row:e})=>[(0,s.bF)(i,{size:"small",type:"primary",onClick:t=>r.editTarget(e)},{default:(0,s.k6)((()=>t[22]||(t[22]=[(0,s.Lk)("i",{class:"mdi mdi-pencil"},null,-1),(0,s.eW)(" ç¼–è¾‘")]))),_:2},1032,["onClick"]),(0,s.bF)(i,{size:"small",type:"danger",onClick:t=>r.confirmDelete(e)},{default:(0,s.k6)((()=>t[23]||(t[23]=[(0,s.Lk)("i",{class:"mdi mdi-delete"},null,-1),(0,s.eW)(" åˆ é™¤")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[D,n.loading]]),n.totalItems>0?((0,s.uX)(),(0,s.Wv)(x,{key:0,background:"",layout:"prev, pager, next","current-page":n.currentPage,"onUpdate:currentPage":t[3]||(t[3]=e=>n.currentPage=e),"page-size":n.pageSize,total:n.totalItems,style:{"margin-top":"20px"},onCurrentChange:r.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])):(0,s.Q3)("",!0),(0,s.bF)(L,{modelValue:n.moduleDialogVisible,"onUpdate:modelValue":t[4]||(t[4]=e=>n.moduleDialogVisible=e),title:"æ¨¡å—åˆ—è¡¨"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",p,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.selectedModules,(e=>((0,s.uX)(),(0,s.Wv)(w,{key:e,style:{margin:"4px"},type:"info",round:""},{default:(0,s.k6)((()=>[(0,s.eW)((0,l.v_)(e),1)])),_:2},1024)))),128))])])),_:1},8,["modelValue"]),(0,s.bF)(L,{modelValue:n.adminDialogVisible,"onUpdate:modelValue":t[5]||(t[5]=e=>n.adminDialogVisible=e),title:"è‡ªå®šä¹‰ç®¡ç†å‘˜"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",b,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.selectedAdmins,(e=>((0,s.uX)(),(0,s.Wv)(w,{key:e,style:{margin:"4px"},type:"info",round:""},{default:(0,s.k6)((()=>[(0,s.eW)((0,l.v_)(e),1)])),_:2},1024)))),128))])])),_:1},8,["modelValue"])])),_:1}),(0,s.bF)(L,{modelValue:n.editDialogVisible,"onUpdate:modelValue":t[13]||(t[13]=e=>n.editDialogVisible=e),title:"ç¼–è¾‘ä¼šè¯æ•°æ®",width:"600px"},{footer:(0,s.k6)((()=>[(0,s.bF)(i,{onClick:t[12]||(t[12]=e=>n.editDialogVisible=!1)},{default:(0,s.k6)((()=>t[24]||(t[24]=[(0,s.eW)("å–æ¶ˆ")]))),_:1}),(0,s.bF)(i,{type:"primary",onClick:r.submitEdit},{default:(0,s.k6)((()=>t[25]||(t[25]=[(0,s.eW)("ä¿å­˜")]))),_:1},8,["onClick"])])),default:(0,s.k6)((()=>[(0,s.bF)($,{model:n.editForm,"label-width":"100px"},{default:(0,s.k6)((()=>[(0,s.bF)(V,{span:12},{default:(0,s.k6)((()=>[(0,s.bF)(S,{label:"è¯­è¨€"},{default:(0,s.k6)((()=>[(0,s.bF)(_,{modelValue:n.editForm.locale,"onUpdate:modelValue":t[6]||(t[6]=e=>n.editForm.locale=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,s.bF)(T,{gutter:20},{default:(0,s.k6)((()=>[(0,s.bF)(V,{span:6},{default:(0,s.k6)((()=>[(0,s.bF)(S,{label:"ç¦è¨€çŠ¶æ€"},{default:(0,s.k6)((()=>[(0,s.bF)(A,{modelValue:n.editForm.muted,"onUpdate:modelValue":t[7]||(t[7]=e=>n.editForm.muted=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,s.bF)(V,{span:6},{default:(0,s.k6)((()=>[(0,s.bF)(S,{label:"å°ç¦çŠ¶æ€"},{default:(0,s.k6)((()=>[(0,s.bF)(A,{modelValue:n.editForm.blocked,"onUpdate:modelValue":t[8]||(t[8]=e=>n.editForm.blocked=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,s.bF)(V,{span:24},{default:(0,s.k6)((()=>[(0,s.bF)(S,{label:"æ¨¡å—åˆ—è¡¨"},{default:(0,s.k6)((()=>[(0,s.bF)(k,{modelValue:n.editForm.modules,"onUpdate:modelValue":t[9]||(t[9]=e=>n.editForm.modules=e),multiple:"",filterable:"","allow-create":"",placeholder:"è¯·é€‰æ‹©æ¨¡å—",style:{width:"100%"}},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.allModules,(e=>((0,s.uX)(),(0,s.Wv)(f,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,s.bF)(V,{span:24},{default:(0,s.k6)((()=>[(0,s.bF)(S,{label:"ç®¡ç†å‘˜"},{default:(0,s.k6)((()=>[(0,s.bF)(k,{modelValue:n.editForm.custom_admins,"onUpdate:modelValue":t[10]||(t[10]=e=>n.editForm.custom_admins=e),multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"è¯·è¾“å…¥ç®¡ç†å‘˜",style:{width:"100%"}},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.editForm.custom_admins,(e=>((0,s.uX)(),(0,s.Wv)(f,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,s.bF)(V,{span:24},{default:(0,s.k6)((()=>[(0,s.bF)(S,{label:"ä¼šè¯æ•°æ®"},{default:(0,s.k6)((()=>[(0,s.bF)(_,{type:"textarea",resize:"none",modelValue:n.targetDataString,"onUpdate:modelValue":t[11]||(t[11]=e=>n.targetDataString=e),rows:6,placeholder:"è¯·è¾“å…¥ JSON æ•°æ®"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])],64)}a(1454);var k=a(4373),_=a(1219),v={data(){return{editForm:{target_id:"",locale:"",muted:!1,blocked:!1,modules:[],custom_admins:[],target_data:{}},targetList:[],moduleDialogVisible:!1,adminDialogVisible:!1,editDialogVisible:!1,selectedAdmins:[],allModules:[],selectedModules:[],selectedPrefix:"",selectedStatus:"",platformIdPart:"",targetDataString:"",debounceTimer:null,currentPage:1,pageSize:20,totalItems:0,loading:!1,cancelTokenSource:k.A.CancelToken.source()}},mounted(){this.refreshData()},beforeUnmount(){this.cancelTokenSource.cancel("Component unmounted")},methods:{debouncedRefresh(){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((()=>{this.refreshData()}),500)},async refreshData(){this.currentPage=1,await this.fetchData(),this.fetchAllModules()},viewModules(e){this.selectedModules=e.modules,this.moduleDialogVisible=!0},async fetchData(){this.loading=!0;try{const e=await k.A.get("/api/target",{cancelToken:this.cancelTokenSource.token,params:{prefix:this.selectedPrefix||void 0,status:this.selectedStatus||void 0,id:this.platformIdPart||void 0,page:this.currentPage,size:this.pageSize}});200===e.status&&(this.targetList=e.data.target_list.map((e=>(e.modules=Array.isArray(e.modules)?e.modules:[],e.custom_admins=Array.isArray(e.custom_admins)?e.custom_admins:[],e))),this.totalItems=e.data.total||0)}catch(e){k.A.isCancel(e)?console.log("Request canceled"):_.nk.error("Error fetching data:"+e)}finally{this.loading=!1}},async fetchAllModules(){try{const e=await k.A.get("/api/modules",{params:{locale:localStorage.getItem("language")}});200===e.status&&e.data.modules&&(this.allModules=Object.keys(e.data.modules))}catch(e){k.A.isCancel(e)?console.log("Request canceled"):_.nk.error("Error fetching modules:"+e)}},handlePageChange(e){this.currentPage=e,this.fetchData()},viewAdmins(e){this.selectedAdmins=e.custom_admins||[],this.adminDialogVisible=!0},editTarget(e){Object.assign(this.editForm,{target_id:e.target_id,locale:e.locale,muted:e.muted,blocked:e.blocked,modules:e.modules?[...e.modules]:[],custom_admins:e.custom_admins?[...e.custom_admins]:[],target_data:e.target_data?{...e.target_data}:{}}),this.targetDataString=JSON.stringify(this.editForm.target_data,null,2),this.editDialogVisible=!0},async submitEdit(){let e;try{e=JSON.parse(this.targetDataString)}catch(s){_.nk.error("ä¼šè¯æ•°æ®æ ¼å¼é”™è¯¯ï¼Œè¯·æ£€æŸ¥ JSON æ ¼å¼")}const{target_id:t,...a}=this.editForm;a.target_data=e;try{await k.A.post(`/api/target/${t}/edit`,a),_.nk.success("ç¼–è¾‘æˆåŠŸ"),this.editDialogVisible=!1,this.fetchData()}catch(o){_.nk.error("ç¼–è¾‘å¤±è´¥ï¼š"+o.message)}},confirmDelete(e){this.$confirm(`ä½ ç¡®å®šè¦åˆ é™¤ä¼šè¯ ${e.target_id} çš„æ‰€æœ‰æ•°æ®å—ï¼Ÿ`,"æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then((()=>{this.deleteTarget(e)})).catch((()=>{}))},async deleteTarget(e){try{await k.A.post(`/api/target/${e.target_id}/delete`),_.nk.success("åˆ é™¤æˆåŠŸ"),this.fetchData()}catch(t){_.nk.error("åˆ é™¤å¤±è´¥ï¼š"+t.message)}}}},w=a(1241);const y=(0,w.A)(v,[["render",f],["__scopeId","data-v-3aec5a82"]]);var C=y;const x={class:"header-container"},L={class:"filter-container"},F={class:"filter-item"},S={class:"filter-item"},V={class:"filter-item"},A={style:{"white-space":"pre-wrap","word-break":"break-word"}};function T(e,t,a,o,n,r){const i=(0,s.g2)("el-button"),c=(0,s.g2)("el-option"),d=(0,s.g2)("el-select"),u=(0,s.g2)("el-input"),h=(0,s.g2)("el-table-column"),g=(0,s.g2)("el-tag"),m=(0,s.g2)("el-popover"),p=(0,s.g2)("el-table"),b=(0,s.g2)("el-pagination"),f=(0,s.g2)("el-card"),k=(0,s.g2)("el-switch"),_=(0,s.g2)("el-form-item"),v=(0,s.g2)("el-col"),w=(0,s.g2)("el-input-number"),y=(0,s.g2)("el-row"),C=(0,s.g2)("el-form"),T=(0,s.g2)("el-dialog"),$=(0,s.gN)("loading");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(f,{class:"session-card"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",x,[t[13]||(t[13]=(0,s.Lk)("h3",null,"ç”¨æˆ·ç®¡ç†",-1)),(0,s.bF)(i,{onClick:r.refreshData,type:"primary",style:{float:"right","margin-left":"10px"}},{default:(0,s.k6)((()=>t[12]||(t[12]=[(0,s.Lk)("i",{class:"mdi mdi-refresh"},null,-1),(0,s.eW)(" åˆ·æ–°")]))),_:1},8,["onClick"])]),(0,s.Lk)("div",L,[(0,s.Lk)("div",F,[(0,s.bF)(d,{modelValue:n.selectedPrefix,"onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedPrefix=e),clearable:"",placeholder:"é€‰æ‹©å¹³å°å‰ç¼€",onChange:r.debouncedRefresh},{default:(0,s.k6)((()=>[(0,s.bF)(c,{label:"QQ",value:"QQ"}),(0,s.bF)(c,{label:"QQBot",value:"QQBot"}),(0,s.bF)(c,{label:"Discord",value:"Discord"}),(0,s.bF)(c,{label:"Telegram",value:"Telegram"}),(0,s.bF)(c,{label:"KOOK",value:"KOOK"}),(0,s.bF)(c,{label:"Web",value:"Web"}),(0,s.bF)(c,{label:"TEST",value:"TEST"})])),_:1},8,["modelValue","onChange"])]),(0,s.Lk)("div",S,[(0,s.bF)(d,{modelValue:n.selectedStatus,"onUpdate:modelValue":t[1]||(t[1]=e=>n.selectedStatus=e),clearable:"",placeholder:"é€‰æ‹©çŠ¶æ€",onChange:r.debouncedRefresh},{default:(0,s.k6)((()=>[(0,s.bF)(c,{label:"è¶…çº§ç”¨æˆ·",value:"superuser"}),(0,s.bF)(c,{label:"å·²ä¿¡ä»»",value:"trusted"}),(0,s.bF)(c,{label:"å·²å°ç¦",value:"blocked"})])),_:1},8,["modelValue","onChange"])]),(0,s.Lk)("div",V,[(0,s.bF)(u,{modelValue:n.platformIdPart,"onUpdate:modelValue":t[2]||(t[2]=e=>n.platformIdPart=e),placeholder:"æœç´¢ç”¨æˆ· ID",onInput:r.debouncedRefresh},null,8,["modelValue","onInput"])])]),(0,s.bo)(((0,s.uX)(),(0,s.Wv)(p,{data:n.senderList,style:{width:"100%"},stripe:""},{default:(0,s.k6)((()=>[(0,s.bF)(h,{prop:"sender_id",label:"ç”¨æˆ· ID",sortable:"","min-width":"140"}),(0,s.bF)(h,{prop:"warns",label:"è­¦å‘Šæ¬¡æ•°","min-width":"60"}),(0,s.bF)(h,{prop:"petal",label:"èŠ±ç“£","min-width":"60"}),(0,s.bF)(h,{label:"çŠ¶æ€","min-width":"220"},{default:(0,s.k6)((({row:e})=>[e.superuser?((0,s.uX)(),(0,s.Wv)(g,{key:0,type:"primary"},{default:(0,s.k6)((()=>t[14]||(t[14]=[(0,s.eW)("è¶…çº§ç”¨æˆ·")]))),_:1})):(0,s.Q3)("",!0),e.trusted?((0,s.uX)(),(0,s.Wv)(g,{key:1,type:"success",style:{"margin-left":"5px"}},{default:(0,s.k6)((()=>t[15]||(t[15]=[(0,s.eW)("å·²ä¿¡ä»»")]))),_:1})):(0,s.Q3)("",!0),e.blocked?((0,s.uX)(),(0,s.Wv)(g,{key:2,type:"danger",style:{"margin-left":"5px"}},{default:(0,s.k6)((()=>t[16]||(t[16]=[(0,s.eW)("å·²å°ç¦")]))),_:1})):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(h,{label:"ç”¨æˆ·æ•°æ®","min-width":"100"},{default:(0,s.k6)((({row:e})=>[(0,s.bF)(m,{placement:"top",width:"300",trigger:"hover"},{reference:(0,s.k6)((()=>[(0,s.bF)(i,{size:"mini",type:"text"},{default:(0,s.k6)((()=>t[17]||(t[17]=[(0,s.eW)("æŸ¥çœ‹è¯¦æƒ…")]))),_:1})])),default:(0,s.k6)((()=>[(0,s.Lk)("pre",A,(0,l.v_)(JSON.stringify(e.sender_data,null,2)),1)])),_:2},1024)])),_:1}),(0,s.bF)(h,{label:"æ“ä½œ","min-width":"160"},{default:(0,s.k6)((({row:e})=>[(0,s.bF)(i,{size:"small",type:"primary",onClick:t=>r.editSender(e)},{default:(0,s.k6)((()=>t[18]||(t[18]=[(0,s.Lk)("i",{class:"mdi mdi-pencil"},null,-1),(0,s.eW)(" ç¼–è¾‘")]))),_:2},1032,["onClick"]),(0,s.bF)(i,{size:"small",type:"danger",onClick:t=>r.confirmDelete(e)},{default:(0,s.k6)((()=>t[19]||(t[19]=[(0,s.Lk)("i",{class:"mdi mdi-delete"},null,-1),(0,s.eW)(" åˆ é™¤")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[$,n.loading]]),n.totalItems>0?((0,s.uX)(),(0,s.Wv)(b,{key:0,background:"",layout:"prev, pager, next","current-page":n.currentPage,"onUpdate:currentPage":t[3]||(t[3]=e=>n.currentPage=e),"page-size":n.pageSize,total:n.totalItems,style:{"margin-top":"20px"},onCurrentChange:r.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(T,{modelValue:n.editDialogVisible,"onUpdate:modelValue":t[11]||(t[11]=e=>n.editDialogVisible=e),title:"ç¼–è¾‘ç”¨æˆ·æ•°æ®",width:"600px"},{footer:(0,s.k6)((()=>[(0,s.bF)(i,{onClick:t[10]||(t[10]=e=>n.editDialogVisible=!1)},{default:(0,s.k6)((()=>t[20]||(t[20]=[(0,s.eW)("å–æ¶ˆ")]))),_:1}),(0,s.bF)(i,{type:"primary",onClick:r.submitEdit},{default:(0,s.k6)((()=>t[21]||(t[21]=[(0,s.eW)("ä¿å­˜")]))),_:1},8,["onClick"])])),default:(0,s.k6)((()=>[(0,s.bF)(C,{model:n.editForm,"label-width":"100px"},{default:(0,s.k6)((()=>[(0,s.bF)(y,{gutter:20},{default:(0,s.k6)((()=>[(0,s.bF)(v,{span:6},{default:(0,s.k6)((()=>[(0,s.bF)(_,{label:"è¶…çº§ç”¨æˆ·"},{default:(0,s.k6)((()=>[(0,s.bF)(k,{modelValue:n.editForm.superuser,"onUpdate:modelValue":t[4]||(t[4]=e=>n.editForm.superuser=e),onChange:r.handleSuperUserChange},null,8,["modelValue","onChange"])])),_:1})])),_:1}),(0,s.bF)(v,{span:6},{default:(0,s.k6)((()=>[(0,s.bF)(_,{label:"ä¿¡ä»»çŠ¶æ€"},{default:(0,s.k6)((()=>[(0,s.bF)(k,{modelValue:n.editForm.trusted,"onUpdate:modelValue":t[5]||(t[5]=e=>n.editForm.trusted=e),onChange:r.handleTrustedChange},null,8,["modelValue","onChange"])])),_:1})])),_:1}),(0,s.bF)(v,{span:6},{default:(0,s.k6)((()=>[(0,s.bF)(_,{label:"å°ç¦çŠ¶æ€"},{default:(0,s.k6)((()=>[(0,s.bF)(k,{modelValue:n.editForm.blocked,"onUpdate:modelValue":t[6]||(t[6]=e=>n.editForm.blocked=e),onChange:r.handleBlockedChange},null,8,["modelValue","onChange"])])),_:1})])),_:1}),(0,s.bF)(v,{span:12},{default:(0,s.k6)((()=>[(0,s.bF)(_,{label:"è­¦å‘Šæ¬¡æ•°"},{default:(0,s.k6)((()=>[(0,s.bF)(w,{modelValue:n.editForm.warns,"onUpdate:modelValue":t[7]||(t[7]=e=>n.editForm.warns=e),min:0},null,8,["modelValue"])])),_:1})])),_:1}),(0,s.bF)(v,{span:12},{default:(0,s.k6)((()=>[(0,s.bF)(_,{label:"èŠ±ç“£"},{default:(0,s.k6)((()=>[(0,s.bF)(w,{modelValue:n.editForm.petal,"onUpdate:modelValue":t[8]||(t[8]=e=>n.editForm.petal=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,s.bF)(v,{span:24},{default:(0,s.k6)((()=>[(0,s.bF)(_,{label:"ç”¨æˆ·æ•°æ®"},{default:(0,s.k6)((()=>[(0,s.bF)(u,{type:"textarea",resize:"none",modelValue:n.senderDataString,"onUpdate:modelValue":t[9]||(t[9]=e=>n.senderDataString=e),rows:6,placeholder:"è¯·è¾“å…¥ JSON æ•°æ®"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])],64)}var $={data(){return{editForm:{sender_id:"",warns:0,petal:0,superuser:!1,trusted:!1,blocked:!1,sender_data:{}},senderList:[],editDialogVisible:!1,selectedPrefix:"",selectedStatus:"",platformIdPart:"",senderDataString:"",currentPage:1,pageSize:20,totalItems:0,debounceTimer:null,loading:!1,cancelTokenSource:k.A.CancelToken.source()}},mounted(){this.refreshData()},beforeUnmount(){this.cancelTokenSource.cancel("Component unmounted")},methods:{debouncedRefresh(){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((()=>{this.refreshData()}),500)},async refreshData(){this.currentPage=1,await this.fetchData()},async fetchData(){this.loading=!0;try{const e=await k.A.get("/api/sender",{cancelToken:this.cancelTokenSource.token,params:{prefix:this.selectedPrefix||void 0,status:this.selectedStatus||void 0,id:this.platformIdPart||void 0,page:this.currentPage,size:this.pageSize}});200===e.status&&(this.senderList=e.data.sender_list,this.totalItems=e.data.total||0)}catch(e){k.A.isCancel(e)?console.log("Request canceled"):_.nk.error("Error fetching data:"+e)}finally{this.loading=!1}},handlePageChange(e){this.currentPage=e,this.fetchData()},handleSuperUserChange(e){e&&(this.editForm.trusted=!1,this.editForm.blocked=!1)},handleTrustedChange(e){e&&(this.editForm.superuser=!1,this.editForm.blocked=!1)},handleBlockedChange(e){e&&(this.editForm.superuser=!1,this.editForm.trusted=!1)},editSender(e){Object.assign(this.editForm,{sender_id:e.sender_id,superuser:e.superuser,trusted:e.trusted,blocked:e.blocked,warns:e.warns,petal:e.petal,sender_data:e.sender_data?{...e.sender_data}:{}}),this.senderDataString=JSON.stringify(this.editForm.sender_data,null,2),this.editDialogVisible=!0},async submitEdit(){let e;try{e=JSON.parse(this.senderDataString)}catch(s){_.nk.error("ç”¨æˆ·æ•°æ®æ ¼å¼é”™è¯¯ï¼Œè¯·æ£€æŸ¥ JSON æ ¼å¼")}const{sender_id:t,...a}=this.editForm;a.sender_data=e;try{await k.A.post(`/api/sender/${t}/edit`,a),_.nk.success("ç¼–è¾‘æˆåŠŸ"),this.editDialogVisible=!1,this.fetchData()}catch(o){_.nk.error("ç¼–è¾‘å¤±è´¥ï¼š"+o.message)}},confirmDelete(e){this.$confirm(`ä½ ç¡®å®šè¦åˆ é™¤ç”¨æˆ· ${e.sender_id} çš„æ‰€æœ‰æ•°æ®å—ï¼Ÿ`,"æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then((()=>{this.deleteSender(e)})).catch((()=>{}))},async deleteSender(e){try{await k.A.post(`/api/sender/${e.sender_id}/delete`),_.nk.success("åˆ é™¤æˆåŠŸ"),this.fetchData()}catch(t){_.nk.error("åˆ é™¤å¤±è´¥ï¼š"+t.message)}}}};const D=(0,w.A)($,[["render",T],["__scopeId","data-v-ff2d7e90"]]);var W=D,P={components:{SessionManager:C,UserManager:W},setup(){const e=(0,i.KR)("session");return{activeCard:e}}};const I=(0,w.A)(P,[["render",r],["__scopeId","data-v-e717473c"]]);var E=I},2167:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var s=a(6768),o=a(4232);const n={class:"log-viewer-container"},r={class:"filter-container"},i={class:"auto-scroll-label"},l={class:"log-viewer",ref:"logViewer"},c={key:0,class:"log-viewer-placeholder"};function d(e,t,a,d,u,h){const g=(0,s.g2)("el-input"),m=(0,s.g2)("el-button"),p=(0,s.g2)("el-switch");return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("div",r,[(0,s.bF)(g,{modelValue:u.searchText,"onUpdate:modelValue":t[0]||(t[0]=e=>u.searchText=e),placeholder:e.$t("logs.input.search"),class:"log-search-input",onInput:h.handleSearch,clearable:"",style:{width:"calc(100% - 175px)"}},null,8,["modelValue","placeholder","onInput"]),(0,s.bF)(m,{class:"log-refresh-button",onClick:h.refreshLog,title:e.$t("logs.button.refresh"),circle:""},{default:(0,s.k6)((()=>t[2]||(t[2]=[(0,s.Lk)("i",{class:"mdi mdi-refresh"},null,-1)]))),_:1},8,["onClick","title"]),(0,s.Lk)("span",i,(0,o.v_)(e.$t("logs.switch.auto_scroll")),1),(0,s.bF)(p,{modelValue:u.autoScroll,"onUpdate:modelValue":t[1]||(t[1]=e=>u.autoScroll=e)},null,8,["modelValue"]),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(u.logLevels,((e,t)=>((0,s.uX)(),(0,s.Wv)(m,{key:t,class:(0,o.C4)(["log-level-button",e.toLowerCase(),{active:u.activeLogLevels.includes(e)}]),onClick:t=>h.toggleLogLevel(e)},{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e),1)])),_:2},1032,["class","onClick"])))),128))]),(0,s.Lk)("div",l,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(u.visibleLogs,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e,((e,t)=>((0,s.uX)(),(0,s.CE)("span",{key:t,style:(0,o.Tr)(e.style)},(0,o.v_)(e.text),5)))),128))])))),128)),0===u.visibleLogs.length?((0,s.uX)(),(0,s.CE)("div",c,t[3]||(t[3]=[(0,s.eW)("There are currently no matching logs here..."),(0,s.Lk)("br",null,null,-1),(0,s.eW)("Use the filter box above to adjust the options.")]))):(0,s.Q3)("",!0)],512)])}a(4114),a(8992),a(4520),a(3949),a(7550),a(4603),a(7566),a(8721);var u=a(4373),h=a(1219),g=a(8626),m=a(5931),p={name:"LogsView",data(){const{t:e}=(0,m.s9)();return{logData:"",visibleLogs:[],logViewer:null,logLevels:["DEBUG","INFO","SUCCESS","WARNING","ERROR","CRITICAL"],activeLogLevels:["INFO","SUCCESS","WARNING","ERROR","CRITICAL"],searchText:"",websocket:null,cancelTokenSource:u.A.CancelToken.source(),autoScroll:!0,t:e}},methods:{async authenticateToken(){try{const e=await u.A.get("/api/verify-token",{cancelToken:this.cancelTokenSource.token});200===e.status?this.connectWebSocket():h.nk.error(this.t("message.error.connect.auth"))}catch(e){u.A.isCancel(e)?console.log("Request canceled"):h.nk.error(this.t("message.error.fetch")+e.message)}},async connectWebSocket(){try{const e=await fetch("/config.json"),t=await e.json(),a=t.api_url;let s=a;/^https?:\/\//i.test(s)||(s="http://"+s);const o=new URL(s),n="https:"===o.protocol?"wss:":"ws:",r=`${n}//${o.hostname}:${o.port}/ws/logs`;this.websocket=new WebSocket(r),this.websocket.onmessage=e=>{this.logData+=e.data+"\n"},this.websocket.onerror=()=>{h.nk.error(this.t("message.error.connect.server"))}}catch(e){h.nk.error(this.t("message.error.connect")+e.message)}},updateLogs:(0,g.debounce)((function(){const e=this.logData.split("\n");let t="";const a=[];e.forEach((e=>{/^\[.*?\]\[.*?\]\[.*?\]\[.*?\]:/.test(e)?(t&&a.push(this.formatLogLine(t)),t=e):t+="\n"+e})),t&&a.push(this.formatLogLine(t)),this.visibleLogs=a.filter((e=>{const t=!this.searchText||e.some((e=>e.text.toLowerCase().includes(this.searchText.toLowerCase())));return t&&this.activeLogLevels.some((t=>e.some((e=>e.text.includes(t)))))})),this.visibleLogs.length>16384&&(this.visibleLogs=this.visibleLogs.slice(-16384)),this.autoScroll&&this.logViewer&&setTimeout((()=>{this.logViewer.scrollTop=this.logViewer.scrollHeight}),200)}),500),refreshLog(){this.logData="",this.visibleLogs=[],this.logViewer&&(this.logViewer.scrollTop=0),this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.websocket.close(),this.authenticateToken()},formatLogLine(e){const t=/^\[([^\]]+)\]\[([^\]]+)\]\[([^\]]+)\]\[([^\]]+)\]:(.*)$/s,a=e.match(t),s="#11a8cd",o="#e5e510",n="#0dbc79";let r="#fff",i="transparent";if(a){const[,e,t,l,c,d]=a;switch(c){case"DEBUG":r="#3b8ec9";break;case"INFO":r="#fff";break;case"SUCCESS":r="#23d18b";break;case"WARNING":r="#f5f543";break;case"ERROR":r="#f14c4c";break;case"CRITICAL":r="#fff",i="#cd3131";break}return[{text:`[${e}]`,style:{color:s}},{text:`[${t}]`,style:{color:o}},{text:`[${l}]`,style:{color:n}},{text:`[${c}]:${d}`,style:{color:r,backgroundColor:i}}]}return[{text:e,style:{color:"#fff"}}]},toggleLogLevel(e){this.activeLogLevels.includes(e)?this.activeLogLevels=this.activeLogLevels.filter((t=>t!==e)):this.activeLogLevels.push(e),this.updateLogs()},handleSearch(){this.updateLogs()}},watch:{logData:"updateLogs"},mounted(){this.authenticateToken()},beforeUnmount(){this.websocket&&this.websocket.close(),this.cancelTokenSource.cancel("Component unmounted")}},b=a(1241);const f=(0,b.A)(p,[["render",d],["__scopeId","data-v-6382ce8f"]]);var k=f},9390:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{a.r(t);var o=a(2252),n=a(5771),r=a(1241),i=e([n]);n=(i.then?(await i)():i)[0];const l=(0,r.A)(n.A,[["render",o.X]]);t["default"]=l,s()}catch(l){s(l)}}))},1816:function(){},4983:function(){},8982:function(){},8806:function(){},6078:function(){},9187:function(){},8598:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{a.d(t,{A:function(){return o.A}});var o=a(8013),n=e([o]);o=(n.then?(await n)():n)[0],s()}catch(r){s(r)}}))},4922:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{a.d(t,{A:function(){return o.A}});var o=a(8853),n=e([o]);o=(n.then?(await n)():n)[0],s()}catch(r){s(r)}}))},5365:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{a.d(t,{A:function(){return o.A}});var o=a(4236),n=e([o]);o=(n.then?(await n)():n)[0],s()}catch(r){s(r)}}))},220:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{a.d(t,{A:function(){return o.A}});var o=a(1083),n=e([o]);o=(n.then?(await n)():n)[0],s()}catch(r){s(r)}}))},7219:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{a.d(t,{A:function(){return o.A}});var o=a(1564),n=e([o]);o=(n.then?(await n)():n)[0],s()}catch(r){s(r)}}))},5875:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{a.d(t,{A:function(){return o.A}});var o=a(2058),n=e([o]);o=(n.then?(await n)():n)[0],s()}catch(r){s(r)}}))},7375:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{a.d(t,{A:function(){return o.A}});var o=a(6656),n=e([o]);o=(n.then?(await n)():n)[0],s()}catch(r){s(r)}}))},5771:function(e,t,a){"use strict";a.a(e,(async function(e,s){try{a.d(t,{A:function(){return o.A}});var o=a(8712),n=e([o]);o=(n.then?(await n)():n)[0],s()}catch(r){s(r)}}))},324:function(e,t,a){"use strict";a.d(t,{X:function(){return i}});var s=a(6768),o=a(4232);const n={id:"app"},r={key:0,class:"loading-overlay"};function i(e,t,a,i,l,c){const d=(0,s.g2)("AppHeader"),u=(0,s.g2)("LoginModal"),h=(0,s.g2)("SuggestSetPasswordModal"),g=(0,s.g2)("AppSidebar"),m=(0,s.g2)("el-main"),p=(0,s.g2)("el-container"),b=(0,s.gN)("loading");return(0,s.uX)(),(0,s.CE)("div",n,[null===l.userVerified?(0,s.bo)(((0,s.uX)(),(0,s.CE)("div",r,null,512)),[[b,null===l.userVerified]]):(0,s.Q3)("",!0),(0,s.bF)(d,{onToggleSidebar:c.toggleSidebar},null,8,["onToggleSidebar"]),0==l.userVerified?((0,s.uX)(),(0,s.Wv)(u,{key:1})):(0,s.Q3)("",!0),(0,s.bF)(h,{modelValue:l.showSuggestPasswordModal,"onUpdate:modelValue":t[0]||(t[0]=e=>l.showSuggestPasswordModal=e)},null,8,["modelValue"]),l.isSidebarVisible&&l.windowWidth<=1024?((0,s.uX)(),(0,s.CE)("div",{key:2,class:"sidebar-overlay",onClick:t[1]||(t[1]=(...e)=>c.closeSidebar&&c.closeSidebar(...e))})):(0,s.Q3)("",!0),(0,s.bF)(g,{class:(0,o.C4)(["sidebar",{show:l.isSidebarVisible}]),onMenuSelect:c.handleMenuSelect},null,8,["class","onMenuSelect"]),(0,s.bF)(p,{style:{marginTop:"60px"}},{default:(0,s.k6)((()=>[(0,s.bF)(m,{class:(0,o.C4)(["content",{"content-with-sidebar":l.isSidebarVisible,"show-sidebar":l.isSidebarVisible&&l.windowWidth<=1024}]),style:(0,o.Tr)({marginLeft:c.sidebarMarginLeft})},{default:(0,s.k6)((()=>[l.userVerified?((0,s.uX)(),(0,s.Wv)((0,s.$y)(l.currentView),{key:0,userVerified:l.userVerified},null,8,["userVerified"])):(0,s.Q3)("",!0)])),_:1},8,["class","style"]),t[2]||(t[2]=(0,s.Lk)("div",{class:"content-footer"},null,-1))])),_:1})])}},6329:function(e,t,a){"use strict";a.d(t,{X:function(){return c}});var s=a(6768),o=a(4232),n=a(5130);const r={class:"overlay"},i={class:"password-modal"},l={class:"remember-device-container"};function c(e,t,a,c,d,u){const h=(0,s.g2)("el-input"),g=(0,s.g2)("el-checkbox"),m=(0,s.g2)("el-button");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.Lk)("div",i,[(0,s.Lk)("span",null,(0,o.v_)(e.$t("login.title")),1),(0,s.bF)(h,{modelValue:d.password,"onUpdate:modelValue":t[0]||(t[0]=e=>d.password=e),placeholder:e.$t("login.input.password"),"show-password":"",onKeyup:(0,n.jR)(u.checkPassword,["enter"])},null,8,["modelValue","placeholder","onKeyup"]),(0,s.Lk)("div",l,[(0,s.bF)(g,{modelValue:d.rememberDevice,"onUpdate:modelValue":t[1]||(t[1]=e=>d.rememberDevice=e)},{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e.$t("login.checkbox.remember")),1)])),_:1},8,["modelValue"]),(0,s.Lk)("span",{class:"forgot-password",onMouseenter:t[2]||(t[2]=e=>d.showTooltip=!0),onMouseleave:t[3]||(t[3]=e=>d.showTooltip=!1)},(0,o.v_)(e.$t("login.forgot_password.text")),33),(0,s.bo)((0,s.Lk)("div",{class:"tooltip"},(0,o.v_)(e.$t("login.forgot_password.tooltip")),513),[[n.aG,d.showTooltip]])]),(0,s.bF)(m,{type:"primary",onClick:u.checkPassword,loading:d.loading,disabled:d.loading},{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e.$t("login.button.login")),1)])),_:1},8,["onClick","loading","disabled"])])])}},6157:function(e,t,a){"use strict";a.d(t,{X:function(){return w}});var s=a(6768),o=a(4232);const n={class:"card-header"},r={class:"statistics-content"},i={class:"data-group"},l={class:"data-title"},c={class:"data-text"},d={class:"data-group"},u={class:"data-title"},h={class:"data-text"},g={class:"data-group"},m={class:"data-title"},p={ref:"chartContainer",class:"chart-container"},b={class:"card-header"},f={class:"proportion-bar"},k=["title"],_={class:"ranking-total-label"},v={class:"ranking-label"};function w(e,t,a,w,y,C){const x=(0,s.g2)("el-option"),L=(0,s.g2)("el-select"),F=(0,s.g2)("el-card"),S=(0,s.g2)("el-col"),V=(0,s.g2)("el-scrollbar"),A=(0,s.g2)("el-row"),T=(0,s.gN)("loading");return(0,s.uX)(),(0,s.Wv)(A,{gutter:20},{default:(0,s.k6)((()=>[(0,s.bF)(S,{span:16,xs:24},{default:(0,s.k6)((()=>[(0,s.bo)(((0,s.uX)(),(0,s.Wv)(F,{"body-style":{height:"400px"}},{default:(0,s.k6)((()=>[(0,s.Lk)("div",n,[(0,s.Lk)("h3",null,[t[1]||(t[1]=(0,s.Lk)("i",{class:"mdi mdi-chart-line"},null,-1)),(0,s.eW)(" "+(0,o.v_)(e.$t("dashboard.analytics.command.title")),1)]),(0,s.bF)(L,{modelValue:y.selectedDays,"onUpdate:modelValue":t[0]||(t[0]=e=>y.selectedDays=e),onChange:C.onTimeRangeChange,class:"time-range-select"},{default:(0,s.k6)((()=>[(0,s.bF)(x,{label:e.$t("dashboard.analytics.command.select.1day"),value:"1"},null,8,["label"]),(0,s.bF)(x,{label:e.$t("dashboard.analytics.command.select.3days"),value:"3"},null,8,["label"]),(0,s.bF)(x,{label:e.$t("dashboard.analytics.command.select.7days"),value:"7"},null,8,["label"]),(0,s.bF)(x,{label:e.$t("dashboard.analytics.command.select.30days"),value:"30"},null,8,["label"]),(0,s.bF)(x,{label:e.$t("dashboard.analytics.command.select.365days"),value:"365"},null,8,["label"])])),_:1},8,["modelValue","onChange"])]),(0,s.Lk)("div",r,[(0,s.Lk)("div",i,[(0,s.Lk)("strong",l,(0,o.v_)(e.$t("dashboard.analytics.command.label.total")),1),(0,s.Lk)("span",c,(0,o.v_)(y.count||0),1)]),(0,s.Lk)("div",d,[(0,s.Lk)("strong",u,(0,o.v_)(e.$t("dashboard.analytics.command.label.average")),1),(0,s.Lk)("span",h,(0,o.v_)(y.averageCount||0),1)]),(0,s.Lk)("div",g,[(0,s.Lk)("strong",m,(0,o.v_)(e.$t("dashboard.analytics.command.label.change_rate")),1),(0,s.Lk)("span",{class:(0,o.C4)({positive:y.changeRate>0,negative:y.changeRate<0,"data-text":0===y.changeRate})},(0,o.v_)(y.changeRate>0?`+${y.changeRate}%`:0===y.changeRate?"0%":`${y.changeRate}%`),3)])]),(0,s.Lk)("div",p,null,512)])),_:1})),[[T,y.loading]])])),_:1}),(0,s.bF)(S,{span:8,xs:24},{default:(0,s.k6)((()=>[(0,s.bo)(((0,s.uX)(),(0,s.Wv)(F,{"body-style":{height:"400px"}},{default:(0,s.k6)((()=>[(0,s.Lk)("div",b,[(0,s.Lk)("h3",null,[t[2]||(t[2]=(0,s.Lk)("i",{class:"mdi mdi-format-list-numbered"},null,-1)),(0,s.eW)(" "+(0,o.v_)(e.$t("dashboard.analytics.platform.title")),1)])]),(0,s.Lk)("div",f,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(y.commandStats,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.prefix,class:"proportion-segment",style:(0,o.Tr)({width:Math.round(e.count/y.count*100*100)/100+"%",backgroundColor:C.getColorByIndex(e.prefix)}),title:`${e.prefix}: ${e.count} (${Math.round(e.count/y.count*100*100)/100}%)`},null,12,k)))),128))]),(0,s.Lk)("div",_,[(0,s.Lk)("strong",null,(0,o.v_)(e.$t("dashboard.analytics.command.label.total")),1),(0,s.Lk)("span",null,(0,o.v_)(y.count||0),1)]),(0,s.bF)(V,{height:"260px"},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(y.commandStats,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:e.prefix,class:"ranking-item"},[(0,s.Lk)("span",{style:(0,o.Tr)({backgroundColor:C.getColorByIndex(e.prefix),color:"#fff",borderRadius:"100%",padding:"6px 10px",display:"inline-block",marginRight:"8px"})},(0,o.v_)(t+1),5),(0,s.Lk)("div",v,[(0,s.Lk)("strong",null,(0,o.v_)(e.prefix),1),(0,s.Lk)("span",null,(0,o.v_)(e.count),1)])])))),128))])),_:1})])),_:1})),[[T,y.loading]])])),_:1})])),_:1})}},4326:function(e,t,a){"use strict";a.d(t,{X:function(){return T}});var s=a(6768),o=a(4232);const n={class:"data-title"},r={class:"data-text"},i={class:"data-title"},l={class:"data-text"},c={class:"data-title"},d={class:"data-text"},u={class:"data-title"},h={class:"data-text"},g={class:"data-title"},m={class:"data-text"},p={class:"data-title"},b={class:"data-text"},f={class:"data-title"},k={class:"data-text"},_={class:"data-title"},v={class:"data-text"},w={class:"data-text"},y={class:"data-text"},C={class:"memory-dashboards"},x={class:"percentage-value"},L={class:"percentage-label"},F={class:"percentage-value"},S={class:"percentage-label"},V={class:"percentage-value"},A={class:"percentage-label"};function T(e,t,a,T,$,D){const W=(0,s.g2)("el-card"),P=(0,s.g2)("el-col"),I=(0,s.g2)("el-progress"),E=(0,s.g2)("el-row"),X=(0,s.gN)("loading");return(0,s.uX)(),(0,s.Wv)(E,{gutter:20},{default:(0,s.k6)((()=>[(0,s.bF)(P,{span:10,xs:24},{default:(0,s.k6)((()=>[(0,s.bo)(((0,s.uX)(),(0,s.Wv)(W,{"body-style":{height:"200px"}},{default:(0,s.k6)((()=>[(0,s.Lk)("h3",null,[t[0]||(t[0]=(0,s.Lk)("i",{class:"mdi mdi-robot-outline"},null,-1)),(0,s.eW)(" "+(0,o.v_)(e.$t("dashboard.server_info.bot.title")),1)]),(0,s.Lk)("p",null,[(0,s.Lk)("strong",n,(0,o.v_)(e.$t("dashboard.server_info.bot.label.python_version")),1),(0,s.Lk)("span",r,(0,o.v_)($.bot.python_version||"-"),1)]),(0,s.Lk)("p",null,[(0,s.Lk)("strong",i,(0,o.v_)(e.$t("dashboard.server_info.bot.label.bot_version")),1),(0,s.Lk)("span",l,(0,o.v_)($.bot.version?$.bot.version.slice(0,6):"-"),1)]),(0,s.Lk)("p",null,[(0,s.Lk)("strong",c,(0,o.v_)(e.$t("dashboard.server_info.bot.label.web_render_status")),1),(0,s.Lk)("span",d,(0,o.v_)($.bot.web_render_status?e.$t("true"):e.$t("false")),1)]),(0,s.Lk)("p",null,[(0,s.Lk)("strong",u,(0,o.v_)(e.$t("dashboard.server_info.bot.label.running_time")),1),(0,s.Lk)("span",h,(0,o.v_)(D.formatRunningTime($.bot.running_time||0)),1)])])),_:1})),[[X,$.loading]]),(0,s.bo)(((0,s.uX)(),(0,s.Wv)(W,{"body-style":{height:"160px"}},{default:(0,s.k6)((()=>[(0,s.Lk)("h3",null,[t[1]||(t[1]=(0,s.Lk)("i",{class:"mdi mdi-laptop"},null,-1)),(0,s.eW)(" "+(0,o.v_)(e.$t("dashboard.server_info.system.title")),1)]),(0,s.Lk)("p",null,[(0,s.Lk)("strong",g,(0,o.v_)(e.$t("dashboard.server_info.system.label.machine")),1),(0,s.Lk)("span",m,(0,o.v_)($.os.system||"-")+" "+(0,o.v_)($.os.machine?"-":"")+" "+(0,o.v_)($.os.machine||""),1)]),(0,s.Lk)("p",null,[(0,s.Lk)("strong",p,(0,o.v_)(e.$t("dashboard.server_info.system.label.version")),1),(0,s.Lk)("span",b,(0,o.v_)($.os.version||"-"),1)]),(0,s.Lk)("p",null,[(0,s.Lk)("strong",f,(0,o.v_)(e.$t("dashboard.server_info.system.label.boot_time")),1),(0,s.Lk)("span",k,(0,o.v_)(D.formatTime($.os.boot_time||0)),1)])])),_:1})),[[X,$.loading]])])),_:1}),(0,s.bF)(P,{span:14,xs:24},{default:(0,s.k6)((()=>[(0,s.bo)(((0,s.uX)(),(0,s.Wv)(W,{"body-style":{height:"420px"}},{default:(0,s.k6)((()=>[(0,s.Lk)("h3",null,[t[2]||(t[2]=(0,s.Lk)("i",{class:"mdi mdi-memory"},null,-1)),(0,s.eW)(" "+(0,o.v_)(e.$t("dashboard.server_info.cpu.title")),1)]),(0,s.Lk)("p",null,[(0,s.Lk)("strong",_,(0,o.v_)(e.$t("dashboard.server_info.cpu.label.brand")),1)]),(0,s.Lk)("p",null,[(0,s.Lk)("span",v,(0,o.v_)($.cpu.cpu_brand||"-"),1)]),(0,s.Lk)("h3",null,[t[3]||(t[3]=(0,s.Lk)("i",{class:"mdi mdi-sd"},null,-1)),(0,s.eW)(" "+(0,o.v_)(e.$t("dashboard.server_info.memory.title")),1)]),(0,s.Lk)("p",null,[(0,s.Lk)("span",w,(0,o.v_)($.memory.used?$.memory.used.toFixed():0)+" MB / "+(0,o.v_)($.memory.total?$.memory.total.toFixed():0)+" MB",1)]),(0,s.Lk)("h3",null,[t[4]||(t[4]=(0,s.Lk)("i",{class:"mdi mdi-server-outline"},null,-1)),(0,s.eW)(" "+(0,o.v_)(e.$t("dashboard.server_info.disk.title")),1)]),(0,s.Lk)("p",null,[(0,s.Lk)("span",y,(0,o.v_)($.disk.used?$.disk.used.toFixed(1):0)+" GB / "+(0,o.v_)($.disk.total?$.disk.total.toFixed(1):0)+" GB",1)]),t[5]||(t[5]=(0,s.Lk)("br",null,null,-1)),(0,s.Lk)("div",C,[(0,s.bF)(I,{type:"dashboard",percentage:$.cpu.cpu_percent?$.cpu.cpu_percent.toFixed(1):0,color:D.getProgressColor($.cpu.cpu_percent)},{default:(0,s.k6)((({percentage:t})=>[(0,s.Lk)("span",x,(0,o.v_)(t)+"%",1),(0,s.Lk)("span",L,(0,o.v_)(e.$t("dashboard.server_info.cpu.title")),1)])),_:1},8,["percentage","color"]),(0,s.bF)(I,{type:"dashboard",percentage:$.memory.percent?$.memory.percent.toFixed(1):0,color:D.getProgressColor($.memory.percent)},{default:(0,s.k6)((({percentage:t})=>[(0,s.Lk)("span",F,(0,o.v_)(t)+"%",1),(0,s.Lk)("span",S,(0,o.v_)(e.$t("dashboard.server_info.memory.title")),1)])),_:1},8,["percentage","color"]),(0,s.bF)(I,{type:"dashboard",percentage:$.disk.percent?$.disk.percent.toFixed(1):0,color:D.getProgressColor($.disk.percent)},{default:(0,s.k6)((({percentage:t})=>[(0,s.Lk)("span",V,(0,o.v_)(t)+"%",1),(0,s.Lk)("span",A,(0,o.v_)(e.$t("dashboard.server_info.disk.title")),1)])),_:1},8,["percentage","color"])])])),_:1})),[[X,$.loading]])])),_:1})])),_:1})}},1378:function(e,t,a){"use strict";a.d(t,{X:function(){return c}});var s=a(6768),o=a(4232);const n={class:"editor-container"},r={class:"editor-body"},i={class:"editor-footer"},l={class:"editor-actions"};function c(e,t,a,c,d,u){const h=(0,s.g2)("el-tab-pane"),g=(0,s.g2)("el-tabs"),m=(0,s.g2)("codemirror"),p=(0,s.g2)("el-button"),b=(0,s.gN)("loading");return(0,s.bo)(((0,s.uX)(),(0,s.CE)("div",n,[(0,s.bF)(g,{modelValue:d.activeTab,"onUpdate:modelValue":t[0]||(t[0]=e=>d.activeTab=e),onTabClick:u.handleTabClick},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(d.configFiles,(e=>((0,s.uX)(),(0,s.Wv)(h,{key:e,label:e,name:e},null,8,["label","name"])))),128))])),_:1},8,["modelValue","onTabClick"]),(0,s.Lk)("div",r,[(0,s.bF)(m,{ref:"editor",modelValue:d.editorContent,"onUpdate:modelValue":t[1]||(t[1]=e=>d.editorContent=e),options:d.editorOptions},null,8,["modelValue","options"])]),(0,s.Lk)("div",i,[(0,s.Lk)("div",l,[(0,s.bF)(p,{type:"warning",onClick:u.resetConfig},{default:(0,s.k6)((()=>[t[2]||(t[2]=(0,s.Lk)("i",{class:"mdi mdi-restart"},null,-1)),(0,s.eW)(" "+(0,o.v_)(e.$t("config.button.reset")),1)])),_:1},8,["onClick"]),(0,s.bF)(p,{type:"success",onClick:u.applyConfig},{default:(0,s.k6)((()=>[t[3]||(t[3]=(0,s.Lk)("i",{class:"mdi mdi-content-save-outline"},null,-1)),(0,s.eW)(" "+(0,o.v_)(e.$t("config.button.save")),1)])),_:1},8,["onClick"])])])])),[[b,d.loading]])}},9470:function(e,t,a){var s={"./AboutView.vue":[7360],"./ChatView.vue":[9922],"./ConfigView.vue":[6246],"./DashboardView.vue":[3778],"./DataView.vue":[5191],"./EmptyView.vue":[2472,472],"./LogsView.vue":[2167],"./SettingView.vue":[9390]};function o(e){if(!a.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],o=t[0];return Promise.all(t.slice(1).map(a.e)).then((function(){return a(o)}))}o.keys=function(){return Object.keys(s)},o.id=9470,e.exports=o},4235:function(e,t,a){var s={"./AboutView.vue":[7360],"./ChatView.vue":[9922],"./ConfigView.vue":[6246],"./DashboardView.vue":[3778],"./DataView.vue":[5191],"./EmptyView.vue":[2472,472],"./LogsView.vue":[2167],"./SettingView.vue":[9390]};function o(e){if(!a.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],o=t[0];return Promise.all(t.slice(1).map(a.e)).then((function(){return a(o)}))}o.keys=function(){return Object.keys(s)},o.id=4235,e.exports=o},186:function(e){"use strict";e.exports=JSON.parse('{"about.button.locale":"Help Translate","about.button.repo.main":"Main Project","about.button.repo.webui":"WebUI","about.button.sponsor":"Sponsor Us","about.quote":"A multifunctional, multilingual, cross-platform asynchronous chatbot","about.star.tooltip":"Your star means a lot to us!","button.cancel":"Cancel","button.confirm":"Confirm","chat.button.reset":"Clear Session","chat.button.send":"Send","chat.chatbox.text.prompt1.prefix":"Use","chat.chatbox.text.prompt1.suffix":"command for help","chat.chatbox.text.prompt2.prefix":"Press","chat.chatbox.text.prompt2.suffix":"to send message","chat.chatbox.text.prompt3.prefix":"Press","chat.chatbox.text.prompt3.suffix":"for new line","chat.chatbox.title":"Hi! I\'m AkariBot","chat.external_link.confirm.message":"You are about to visit an external link: {url}. Are you sure?","chat.external_link.confirm.title":"External Link Warning","chat.input.send":"Send a message...","chat.status.tooltip.connected":"Connected","chat.status.tooltip.connecting":"Connecting","chat.status.tooltip.disconnected":"Disconnected","chat.title":"Chat","config.button.reset":"Reset","config.button.save":"Save","config.message.save.success":"Configuration updated successfully","confirm.message":"Are you sure?","confirm.title.warning":"Warning","dashboard.analytics.command.chart.command":"Command Count","dashboard.analytics.command.label.average":"Average","dashboard.analytics.command.label.change_rate":"Change Rate","dashboard.analytics.command.label.total":"Total","dashboard.analytics.command.select.1day":"Past 1 Day","dashboard.analytics.command.select.30days":"Past 30 Days","dashboard.analytics.command.select.365days":"Past 365 Days","dashboard.analytics.command.select.3days":"Past 3 Days","dashboard.analytics.command.select.7days":"Past 7 Days","dashboard.analytics.command.title":"Command Analytics","dashboard.analytics.platform.title":"Platform Command Analytics","dashboard.server_info.bot.label.bot_version":"Bot Version","dashboard.server_info.bot.label.python_version":"Python Version","dashboard.server_info.bot.label.running_time":"Running Time","dashboard.server_info.bot.label.web_render_status":"WebRender Status","dashboard.server_info.bot.title":"Bot","dashboard.server_info.cpu.label.brand":"Model","dashboard.server_info.cpu.title":"CPU","dashboard.server_info.disk.title":"Disk","dashboard.server_info.memory.title":"Memory","dashboard.server_info.system.label.boot_time":"Boot Time","dashboard.server_info.system.label.machine":"Architecture","dashboard.server_info.system.label.version":"Version","dashboard.server_info.system.title":"System","dashboard.server_info.text.format_time":"{hours} hr {minutes} min {seconds} sec","example":"Hello, world!","false":"False","header.button.doc":"Help Docs","login.button.login":"Login","login.checkbox.remember":"Remember Me","login.forgot_password.text":"Forgot Password","login.forgot_password.tooltip":"Please go to the server, open \\"assets/private/api\\" directory, delete \\".password\\" file, and reset your password.","login.input.password":"Enter Password","login.message.abuse":"Too many failed attempts. Please try again later.","login.message.failed":"Incorrect password. Please try again.","login.message.success":"Login successful","login.title":"Log in to continue","logs.button.refresh":"Refresh Logs","logs.input.search":"Search logs...","logs.switch.auto_scroll":"Auto Scroll","message.error.connect":"Connection failed:","message.error.connect.auth":"Authentication failed","message.error.connect.server":"Connection to server lost","message.error.fetch":"Request failed:","no":"No","setting.change_password.button.clear_password":"Clear Password","setting.change_password.button.set_password":"Set Password","setting.change_password.button.update_password":"Update Password","setting.change_password.confirm.message":"Are you sure you want to clear the password?","setting.change_password.input.confirm_password":"Confirm Password","setting.change_password.input.new_password":"New Password","setting.change_password.input.old_password":"Old Password","setting.change_password.message.failed":"Incorrect password. Please try again.","setting.change_password.message.success.clear":"Password cleared","setting.change_password.message.success.update":"Password updated successfully","setting.change_password.title":"WebUI Password","setting.change_password.validate.confirm_password":"Please confirm the new password","setting.change_password.validate.inconsistent":"Passwords do not match","setting.change_password.validate.new_password":"Please enter a new password","setting.change_password.validate.old_password":"Please enter the old password","setting.restart_bot.button.restart":"Restart","setting.restart_bot.confirm.title":"Restart Confirmation","setting.restart_bot.loading.text":"Restarting...","setting.restart_bot.title":"Restart Bot","sidebar.item.about":"About","sidebar.item.chat":"Chat","sidebar.item.config":"Configuration","sidebar.item.dashboard":"Dashboard","sidebar.item.data":"Data Management","sidebar.item.logs":"Logs","sidebar.item.setting":"More Settings","suggest_set_password.button.cancel":"Maybe Later","suggest_set_password.button.confirm":"Go to Settings","suggest_set_password.checkbox.no_more_prompt":"Don\'t remind me again","suggest_set_password.text":"No password is currently set. If you plan to access this panel over the internet, please go to \\"More Settings\\" and set a password to ensure security.","suggest_set_password.title":"Set a Password (Recommended)","true":"True","unknown":"Unknown","yes":"Yes"}')},4016:function(e){"use strict";e.exports=JSON.parse('{"about.button.locale":"å¸®åŠ©ç¿»è¯‘","about.button.repo.main":"ä¸»é¡¹ç›®","about.button.repo.webui":"WebUI","about.button.sponsor":"èµžåŠ©æˆ‘ä»¬","about.quote":"å¤šåŠŸèƒ½ã€å¤šè¯­è¨€ã€å¤šå¹³å°æ”¯æŒçš„å¼‚æ­¥èŠå¤©æœºå™¨äºº","about.star.tooltip":"ä½ çš„ Star å¯¹æˆ‘ä»¬éžå¸¸é‡è¦ï¼","button.cancel":"å–æ¶ˆ","button.confirm":"ç¡®å®š","chat.button.reset":"æ¸…ç©ºä¼šè¯","chat.button.send":"å‘é€","chat.chatbox.text.prompt1.prefix":"ä½¿ç”¨","chat.chatbox.text.prompt1.suffix":"å‘½ä»¤æŸ¥çœ‹å¸®åŠ©","chat.chatbox.text.prompt2.prefix":"æŒ‰ä¸‹","chat.chatbox.text.prompt2.suffix":"å‘é€æ¶ˆæ¯","chat.chatbox.text.prompt3.prefix":"æŒ‰ä¸‹","chat.chatbox.text.prompt3.suffix":"æ¢è¡Œ","chat.chatbox.title":"ä½ å¥½ï¼æˆ‘æ˜¯ AkariBot","chat.external_link.confirm.message":"ä½ æ­£åœ¨å‰å¾€å¤–éƒ¨é“¾æŽ¥ï¼š{url}ï¼Œä½ ç¡®å®šå—ï¼Ÿ","chat.external_link.confirm.title":"å¤–éƒ¨é“¾æŽ¥è­¦å‘Š","chat.input.send":"å‘é€æ¶ˆæ¯â€¦â€¦","chat.status.tooltip.connected":"å·²è¿žæŽ¥","chat.status.tooltip.connecting":"è¿žæŽ¥ä¸­","chat.status.tooltip.disconnected":"æœªè¿žæŽ¥","chat.title":"èŠå¤©","config.button.reset":"é‡ç½®","config.button.save":"åº”ç”¨","config.message.save.success":"é…ç½®æ›´æ–°æˆåŠŸ","confirm.message":"ä½ ç¡®å®šå—ï¼Ÿ","confirm.title.warning":"è­¦å‘Š","dashboard.analytics.command.chart.command":"å‘½ä»¤æ•°é‡","dashboard.analytics.command.label.average":"å¹³å‡å‘½ä»¤æ•°","dashboard.analytics.command.label.change_rate":"æ”¹å˜çŽ‡","dashboard.analytics.command.label.total":"æ€»å‘½ä»¤æ•°","dashboard.analytics.command.select.1day":"è¿‡åŽ» 1 å¤©","dashboard.analytics.command.select.30days":"è¿‡åŽ» 30 å¤©","dashboard.analytics.command.select.365days":"è¿‡åŽ» 365 å¤©","dashboard.analytics.command.select.3days":"è¿‡åŽ» 3 å¤©","dashboard.analytics.command.select.7days":"è¿‡åŽ» 7 å¤©","dashboard.analytics.command.title":"å‘½ä»¤ç»Ÿè®¡","dashboard.analytics.platform.title":"å¹³å°å‘½ä»¤ç»Ÿè®¡","dashboard.server_info.bot.label.bot_version":"æœºå™¨äººç‰ˆæœ¬","dashboard.server_info.bot.label.python_version":"Python ç‰ˆæœ¬","dashboard.server_info.bot.label.running_time":"è¿è¡Œæ—¶é—´","dashboard.server_info.bot.label.web_render_status":"WebRender å°±ç»ª","dashboard.server_info.bot.title":"æœºå™¨äºº","dashboard.server_info.cpu.label.brand":"åž‹å·","dashboard.server_info.cpu.title":"CPU","dashboard.server_info.disk.title":"ç£ç›˜","dashboard.server_info.memory.title":"å†…å­˜","dashboard.server_info.system.label.boot_time":"å¯åŠ¨æ—¶é—´","dashboard.server_info.system.label.machine":"æž¶æž„","dashboard.server_info.system.label.version":"ç‰ˆæœ¬","dashboard.server_info.system.title":"ç³»ç»Ÿ","dashboard.server_info.text.format_time":"{hours} å°æ—¶ {minutes} åˆ† {seconds} ç§’","example":"ä½ å¥½ä¸–ç•Œï¼","false":"å¦","header.button.doc":"å¸®åŠ©æ–‡æ¡£","login.button.login":"ç™»å½•","login.checkbox.remember":"è®°ä½ç™»å½•çŠ¶æ€","login.forgot_password.text":"å¿˜è®°å¯†ç ","login.forgot_password.tooltip":"è¯·å‰å¾€æœåŠ¡ç«¯ï¼Œè¿›å…¥â€œassets/private/apiâ€ç›®å½•ï¼Œåˆ é™¤â€œ.passwordâ€æ–‡ä»¶åŽé‡æ–°è®¾ç½®å¯†ç ã€‚","login.input.password":"è¾“å…¥å¯†ç ","login.message.abuse":"ç™»å½•å¤±è´¥æ¬¡æ•°è¿‡å¤šï¼Œè¯·ç¨åŽå†è¯•","login.message.failed":"å¯†ç é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥","login.message.success":"ç™»å½•æˆåŠŸ","login.title":"ç™»å½•ä»¥ç»§ç»­","logs.button.refresh":"åˆ·æ–°æ—¥å¿—","logs.input.search":"æœç´¢æ—¥å¿—â€¦â€¦","logs.switch.auto_scroll":"è‡ªåŠ¨æ»šåŠ¨","message.error.connect":"è¿žæŽ¥å¤±è´¥ï¼š","message.error.connect.auth":"èº«ä»½éªŒè¯å¤±è´¥","message.error.connect.server":"ä¸ŽæœåŠ¡ç«¯çš„è¿žæŽ¥ä¸­æ–­","message.error.fetch":"è¯·æ±‚å¤±è´¥ï¼š","no":"å¦","setting.change_password.button.clear_password":"æ¸…é™¤å¯†ç ","setting.change_password.button.set_password":"è®¾ç½®å¯†ç ","setting.change_password.button.update_password":"ä¿®æ”¹å¯†ç ","setting.change_password.confirm.message":"ä½ ç¡®å®šè¦æ¸…é™¤å¯†ç å—ï¼Ÿ","setting.change_password.input.confirm_password":"ç¡®è®¤å¯†ç ","setting.change_password.input.new_password":"æ–°å¯†ç ","setting.change_password.input.old_password":"æ—§å¯†ç ","setting.change_password.message.failed":"å¯†ç é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥","setting.change_password.message.success.clear":"å¯†ç å·²æ¸…é™¤","setting.change_password.message.success.update":"å¯†ç ä¿®æ”¹æˆåŠŸ","setting.change_password.title":"ç•Œé¢å¯†ç ","setting.change_password.validate.confirm_password":"è¯·ç¡®è®¤æ–°å¯†ç ","setting.change_password.validate.inconsistent":"ä¸¤æ¬¡å¯†ç è¾“å…¥ä¸ä¸€è‡´","setting.change_password.validate.new_password":"è¯·è¾“å…¥æ–°å¯†ç ","setting.change_password.validate.old_password":"è¯·è¾“å…¥æ—§å¯†ç ","setting.restart_bot.button.restart":"é‡å¯","setting.restart_bot.confirm.title":"é‡å¯ç¡®è®¤","setting.restart_bot.loading.text":"æ­£åœ¨é‡å¯â€¦â€¦","setting.restart_bot.title":"é‡å¯æœºå™¨äºº","sidebar.item.about":"å…³äºŽ","sidebar.item.chat":"èŠå¤©","sidebar.item.config":"é…ç½®","sidebar.item.dashboard":"é¢æ¿","sidebar.item.logs":"æ—¥å¿—","sidebar.item.data":"æ•°æ®ç®¡ç†","sidebar.item.setting":"æ›´å¤šè®¾ç½®","suggest_set_password.button.cancel":"ç¨åŽå†è¯´","suggest_set_password.button.confirm":"åŽ»è®¾ç½®","suggest_set_password.checkbox.no_more_prompt":"ä¸å†æç¤º","suggest_set_password.text":"ç›®å‰æš‚æœªè®¾ç½®å¯†ç ã€‚è‹¥ä½ æ‰“ç®—åœ¨å…¬ç½‘è®¿é—®æ­¤é¢æ¿ï¼Œä¸ºä¿è¯æœåŠ¡å®‰å…¨æ€§ï¼Œè¯·åŠ¡å¿…å‰å¾€â€œæ›´å¤šè®¾ç½®â€ç•Œé¢è®¾ç½®ä¸€ä¸ªå¯†ç ã€‚","suggest_set_password.title":"å»ºè®®è®¾ç½®å¯†ç ","true":"æ˜¯","unknown":"æœªçŸ¥","yes":"æ˜¯"}')},8312:function(e){"use strict";e.exports=JSON.parse('{"about.button.locale":"å”åŠ©ç¿»è­¯","about.button.repo.main":"ä¸»å°ˆæ¡ˆ","about.button.repo.webui":"WebUI","about.button.sponsor":"è´ŠåŠ©æˆ‘å€‘","about.quote":"å¤šåŠŸèƒ½ã€å¤šèªžè¨€ã€å¤šå¹³å°æ”¯æ´çš„éžåŒæ­¥èŠå¤©æ©Ÿå™¨äºº","about.star.tooltip":"ä½ çš„ Star å°æˆ‘å€‘éžå¸¸é‡è¦ï¼","button.cancel":"å–æ¶ˆ","button.confirm":"ç¢ºèª","chat.button.reset":"æ¸…é™¤å°è©±","chat.button.send":"å‚³é€","chat.chatbox.text.prompt1.prefix":"ä½¿ç”¨","chat.chatbox.text.prompt1.suffix":"æŒ‡ä»¤æŸ¥çœ‹èªªæ˜Ž","chat.chatbox.text.prompt2.prefix":"æŒ‰ä¸‹","chat.chatbox.text.prompt2.suffix":"å‚³é€è¨Šæ¯","chat.chatbox.text.prompt3.prefix":"æŒ‰ä¸‹","chat.chatbox.text.prompt3.suffix":"æ›è¡Œ","chat.chatbox.title":"ä½ å¥½ï¼æˆ‘æ˜¯ AkariBot","chat.external_link.confirm.message":"ä½ å³å°‡å‰å¾€å¤–éƒ¨é€£çµï¼š{url}ï¼Œç¢ºå®šè¦ç¹¼çºŒå—Žï¼Ÿ","chat.external_link.confirm.title":"å¤–éƒ¨é€£çµè­¦å‘Š","chat.input.send":"å‚³é€è¨Šæ¯â€¦â€¦","chat.status.tooltip.connected":"å·²é€£ç·š","chat.status.tooltip.connecting":"é€£ç·šä¸­","chat.status.tooltip.disconnected":"æœªé€£ç·š","chat.title":"èŠå¤©","config.button.reset":"é‡è¨­","config.button.save":"å¥—ç”¨","config.message.save.success":"è¨­å®šæ›´æ–°æˆåŠŸ","confirm.message":"ä½ ç¢ºå®šå—Žï¼Ÿ","confirm.title.warning":"è­¦å‘Š","dashboard.analytics.command.chart.command":"æŒ‡ä»¤æ•¸é‡","dashboard.analytics.command.label.average":"å¹³å‡æŒ‡ä»¤æ•¸","dashboard.analytics.command.label.change_rate":"è®ŠåŒ–çŽ‡","dashboard.analytics.command.label.total":"ç¸½æŒ‡ä»¤æ•¸","dashboard.analytics.command.select.1day":"éŽåŽ» 1 å¤©","dashboard.analytics.command.select.30days":"éŽåŽ» 30 å¤©","dashboard.analytics.command.select.365days":"éŽåŽ» 365 å¤©","dashboard.analytics.command.select.3days":"éŽåŽ» 3 å¤©","dashboard.analytics.command.select.7days":"éŽåŽ» 7 å¤©","dashboard.analytics.command.title":"æŒ‡ä»¤çµ±è¨ˆ","dashboard.analytics.platform.title":"å¹³å°æŒ‡ä»¤çµ±è¨ˆ","dashboard.server_info.bot.label.bot_version":"æ©Ÿå™¨äººç‰ˆæœ¬","dashboard.server_info.bot.label.python_version":"Python ç‰ˆæœ¬","dashboard.server_info.bot.label.running_time":"åŸ·è¡Œæ™‚é–“","dashboard.server_info.bot.label.web_render_status":"WebRender å°±ç·’","dashboard.server_info.bot.title":"æ©Ÿå™¨äºº","dashboard.server_info.cpu.label.brand":"åž‹è™Ÿ","dashboard.server_info.cpu.title":"CPU","dashboard.server_info.disk.title":"ç£ç¢Ÿ","dashboard.server_info.memory.title":"è¨˜æ†¶é«”","dashboard.server_info.system.label.boot_time":"é–‹æ©Ÿæ™‚é–“","dashboard.server_info.system.label.machine":"æž¶æ§‹","dashboard.server_info.system.label.version":"ç‰ˆæœ¬","dashboard.server_info.system.title":"ç³»çµ±","dashboard.server_info.text.format_time":"{hours} å°æ™‚ {minutes} åˆ† {seconds} ç§’","example":"ä½ å¥½ä¸–ç•Œï¼","false":"å¦","header.button.doc":"èªªæ˜Žæ–‡ä»¶","login.button.login":"ç™»å…¥","login.checkbox.remember":"è¨˜ä½ç™»å…¥ç‹€æ…‹","login.forgot_password.text":"å¿˜è¨˜å¯†ç¢¼","login.forgot_password.tooltip":"è«‹å‰å¾€ä¼ºæœå™¨ç«¯ï¼Œé€²å…¥ã€Œassets/private/apiã€ç›®éŒ„ï¼Œåˆªé™¤ã€Œ.passwordã€æª”æ¡ˆå¾Œé‡æ–°è¨­å®šå¯†ç¢¼ã€‚","login.input.password":"è¼¸å…¥å¯†ç¢¼","login.message.abuse":"ç™»å…¥å¤±æ•—æ¬¡æ•¸éŽå¤šï¼Œè«‹ç¨å¾Œå†è©¦","login.message.failed":"å¯†ç¢¼éŒ¯èª¤ï¼Œè«‹é‡æ–°è¼¸å…¥","login.message.success":"ç™»å…¥æˆåŠŸ","login.title":"ç™»å…¥ä»¥ç¹¼çºŒ","logs.button.refresh":"é‡æ–°æ•´ç†æ—¥èªŒ","logs.input.search":"æœå°‹æ—¥èªŒâ€¦â€¦","logs.switch.auto_scroll":"è‡ªå‹•æ²å‹•","message.error.connect":"é€£ç·šå¤±æ•—ï¼š","message.error.connect.auth":"é©—è­‰å¤±æ•—","message.error.connect.server":"èˆ‡ä¼ºæœå™¨çš„é€£ç·šä¸­æ–·","message.error.fetch":"è«‹æ±‚å¤±æ•—ï¼š","no":"å¦","setting.change_password.button.clear_password":"æ¸…é™¤å¯†ç¢¼","setting.change_password.button.set_password":"è¨­å®šå¯†ç¢¼","setting.change_password.button.update_password":"è®Šæ›´å¯†ç¢¼","setting.change_password.confirm.message":"ä½ ç¢ºå®šè¦æ¸…é™¤å¯†ç¢¼å—Žï¼Ÿ","setting.change_password.input.confirm_password":"ç¢ºèªå¯†ç¢¼","setting.change_password.input.new_password":"æ–°å¯†ç¢¼","setting.change_password.input.old_password":"èˆŠå¯†ç¢¼","setting.change_password.message.failed":"å¯†ç¢¼éŒ¯èª¤ï¼Œè«‹é‡æ–°è¼¸å…¥","setting.change_password.message.success.clear":"å¯†ç¢¼å·²æ¸…é™¤","setting.change_password.message.success.update":"å¯†ç¢¼è®Šæ›´æˆåŠŸ","setting.change_password.title":"ä»‹é¢å¯†ç¢¼","setting.change_password.validate.confirm_password":"è«‹ç¢ºèªæ–°å¯†ç¢¼","setting.change_password.validate.inconsistent":"å…©æ¬¡å¯†ç¢¼è¼¸å…¥ä¸ä¸€è‡´","setting.change_password.validate.new_password":"è«‹è¼¸å…¥æ–°å¯†ç¢¼","setting.change_password.validate.old_password":"è«‹è¼¸å…¥èˆŠå¯†ç¢¼","setting.restart_bot.button.restart":"é‡æ–°å•Ÿå‹•","setting.restart_bot.confirm.title":"é‡æ–°å•Ÿå‹•ç¢ºèª","setting.restart_bot.loading.text":"æ­£åœ¨é‡æ–°å•Ÿå‹•â€¦â€¦","setting.restart_bot.title":"é‡æ–°å•Ÿå‹•æ©Ÿå™¨äºº","sidebar.item.about":"é—œæ–¼","sidebar.item.chat":"èŠå¤©","sidebar.item.config":"è¨­å®š","sidebar.item.dashboard":"å„€è¡¨æ¿","sidebar.item.data":"è³‡æ–™ç®¡ç†","sidebar.item.logs":"æ—¥èªŒ","sidebar.item.setting":"æ›´å¤šè¨­å®š","suggest_set_password.button.cancel":"ç¨å¾Œå†èªª","suggest_set_password.button.confirm":"å‰å¾€è¨­å®š","suggest_set_password.checkbox.no_more_prompt":"ä¸å†æç¤º","suggest_set_password.text":"ç›®å‰å°šæœªè¨­å®šå¯†ç¢¼ã€‚è‹¥ä½ æ‰“ç®—é€éŽå…¬ç¶²å­˜å–æ­¤é¢æ¿ï¼Œç‚ºç¢ºä¿æœå‹™å®‰å…¨æ€§ï¼Œè«‹å‹™å¿…å‰å¾€ã€Œæ›´å¤šè¨­å®šã€é é¢è¨­å®šå¯†ç¢¼ã€‚","suggest_set_password.title":"å»ºè­°è¨­å®šå¯†ç¢¼","true":"æ˜¯","unknown":"æœªçŸ¥","yes":"æ˜¯"}')}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var n=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=e,function(){var e="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",s="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=function(e){e&&e.d<1&&(e.d=1,e.forEach((function(e){e.r--})),e.forEach((function(e){e.r--?e.r++:e()})))},n=function(a){return a.map((function(a){if(null!==a&&"object"===typeof a){if(a[e])return a;if(a.then){var n=[];n.d=0,a.then((function(e){r[t]=e,o(n)}),(function(e){r[s]=e,o(n)}));var r={};return r[e]=function(e){e(n)},r}}var i={};return i[e]=function(){},i[t]=a,i}))};a.a=function(a,r,i){var l;i&&((l=[]).d=-1);var c,d,u,h=new Set,g=a.exports,m=new Promise((function(e,t){u=t,d=e}));m[t]=g,m[e]=function(e){l&&e(l),h.forEach(e),m["catch"]((function(){}))},a.exports=m,r((function(a){var o;c=n(a);var r=function(){return c.map((function(e){if(e[s])throw e[s];return e[t]}))},i=new Promise((function(t){o=function(){t(r)},o.r=0;var a=function(e){e!==l&&!h.has(e)&&(h.add(e),e&&!e.d&&(o.r++,e.push(o)))};c.map((function(t){t[e](a)}))}));return o.r?i:r()}),(function(e){e?u(m[s]=e):d(g),o(l)})),l&&l.d<0&&(l.d=0)}}(),function(){var e=[];a.O=function(t,s,o,n){if(!s){var r=1/0;for(d=0;d<e.length;d++){s=e[d][0],o=e[d][1],n=e[d][2];for(var i=!0,l=0;l<s.length;l++)(!1&n||r>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(i=!1,n<r&&(r=n));if(i){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,o,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,s){return a.f[s](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+".63e596b8.js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="webui:";a.l=function(s,o,n,r){if(e[s])e[s].push(o);else{var i,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+n){i=u;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+n),i.src=s),e[s]=[o];var h=function(t,a){i.onerror=i.onload=null,clearTimeout(g);var o=e[s];if(delete e[s],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(a)})),t)return t(a)},g=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/"}(),function(){var e={524:0};a.f.j=function(t,s){var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)s.push(o[2]);else{var n=new Promise((function(a,s){o=e[t]=[a,s]}));s.push(o[2]=n);var r=a.p+a.u(t),i=new Error,l=function(s){if(a.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var n=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",i.name="ChunkLoadError",i.type=n,i.request=r,o[1](i)}};a.l(r,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,n,r=s[0],i=s[1],l=s[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(l)var d=l(a)}for(t&&t(s);c<r.length;c++)n=r[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},s=self["webpackChunkwebui"]=self["webpackChunkwebui"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(1406)}));s=a.O(s)})();
//# sourceMappingURL=app.fb586f79.js.map